---
output:
  html_document: default
  pdf_document: default
urlcolor: blue
---
# Preparando nuestro sistema {#preparando-sistema -}

## Empezando en A-B-C

Para poder iniciar el workshop necesitamos tener R y RStudio instalados, además de algunas librerías. **Para tener un sistema funcional, completa los pasos A, B y C**. Si ya tienes R y Rstudio instalados (recientemente), puedes pasar directamente al paso **(C)**.  



### **(A)** Instalar R  {-}

[R](https://www.r-project.org/), es un lenguaje de programación especializado en el computación estadística y visualización de datos. Es recomendable tener instalada [la última versión de R](http://dirichlet.mat.puc.cl/). Puedes usar uno de los enlaces siguientes:  

* **Windows**: [Descargar e instalar R para Windows](https://cran.r-project.org/bin/windows/base/)
* **Mac**: [Descargar e instalar R para Mac](https://cran.r-project.org/bin/macosx/)
* **Ubuntu Linux**: [más detalles en la web de R](https://cran.r-project.org/bin/linux/debian/). **En un terminal**:
    1. `sudo apt-get install r-base`


### **(B)** Instalar RStudio  {-}

RStudio es un entorno integrado de desarrollo (IDE) para la programación R. 

* [Descargar e instalar RStudio](http://www.rstudio.com/download).
* Una vez descargado e instalado, **abre** RStudio. Deberías ver algo parecido a lo siguiente:

```{r echo=FALSE, message=FALSE, warning=FALSE, out.width="50%"}
knitr::include_graphics(here::here("data", "images", "empezando.png"))
```
<!-- ![](`r here::here("data", "empezando.png")`)   -->


### **(C)** Paquetes para el workshop  {-}

Usaremos un buen numero de paquetes en el workshop. Hay algunos meta-paquetes que simplifican la instalación de múltiples paquetes (e.g. pacman, pak, ...), pero en este caso vamos a usar una versión casera.    

**Copia y pega el código de abajo y ejecútalo [tecla ENTER] en la consola de RStudio.** El proceso de instalación requiere Internet y tardará un buen rato.  

```{r install_workshop_packages, message=FALSE, warning=FALSE}  

list_of_packages = c("bookdown", "corrplot", "cowplot", "easystats", "esquisse", "gapminder", "ggpubr", "ggridges", "ggthemes", "hrbrthemes", "inspectdf", "janitor", "knitr", "plotly",  
                     "psych", "remotes", "stringr", "tictoc", "tidyverse", "usethis", "yarrr")  
new_packages <- list_of_packages[!(list_of_packages %in% installed.packages()[,"Package"])]
if (length(new_packages)) install.packages(new_packages, dependencies = TRUE)  

```


---  

## Algo más sobre la instalación de paquetes  

Los paquetes de R son una colección de funciones, datos y documentación que amplían las capacidades básicas de R. En 2019 el numero de paquetes en [R-cran](https://cran.r-project.org/web/packages/index.html) ha superado los 14,000 ([ver este buscador de paquetes](https://mran.microsoft.com/packages)).  

Gran parte de las funciones y paquetes que utilizaremos en este workshop se encuentran contenidas en el meta-paquete "tidyverse" (este es un paquete de paquetes). Ya lo instalamos en **(C)**, pero si quisieras instalarlo solo tendrías que ejecutar la siguiente linea en la **consola** de RStudio (**(1)** en la imagen de arriba):  

+ `install.packages("tidyverse")`  

Para instalar otro paquete diferente de "tidyverse", remplaza su nombre entre comillas dentro de la función:  

+ `install.packages("NOMBRE_DE_PAQUETE")`.  

Una vez instalado un paquete, no es necesario volver hacerlo, a menos que reinstales R.  


### Cargar paquetes

Las funciones, datos y documentación dentro de nuestros paquetes no podrán ser utilizadas hasta que se carguen en R (en realidad también pueden ser llamadas usando su referencia absoluta `::`, por ejemplo: `dplyr::tibble(columna = 1)`. La estructura de lo anterior es: `nombre_paquete::nombre_de_funcion(parametros)`).  


Una vez instalados, para cargar los paquetes se usa la función `library()`:  

```{r load_library, message=FALSE, warning=FALSE}

library(tidyverse)  

```  


### Todo en uno  
El siguiente código simplifica lo anterior. Comprueba que el paquete esta instalado; Si no se encuentra instalado, lo instala. Finalmente lo carga.  

```{r install_tidyverse, message=FALSE, warning=FALSE}

if (!require('tidyverse')) install.packages('tidyverse'); library('tidyverse')  

```  


Para instalar múltiples paquetes, podemos repetir la linea de mas arriba tantas veces como sea necesaria, o usar una versión algo mas sofisticada como el código del apartado **(C)**:  

+ `if (!require('tidyverse')) install.packages('tidyverse'); library('tidyverse')`  
+ `if (!require('bookdown')) install.packages('bookdown'); library('bookdown')`  
+ `...`  


### Instalar paquetes de Github  

En ocasiones querremos instalar directamente la versión en desarrollo del paquete desde [Github](https://github.com/). Para eso podemos usar la función `install_github` del paquete `remotes`. Por ejemplo, para instalar el paquete {renv} desde su [repositorio de Github](https://github.com/rstudio/renv):  

+ `if (!require('remotes')) install.packages('remotes'); library('remotes')`  
+ `remotes::install_github("rstudio/renv")`  


---  



## Bibliografía {.bibliografia -}

*Algunos de los manuales que vamos a usar para el workshop son los siguientes:*  



Wickham, H., & Grolemund, G. (2016). R for data science: import, tidy, transform, visualize, and model data. O'Reilly Media, Inc. https://r4ds.had.co.nz/

Xie, Y., Allaire, J. J., & Grolemund, G. (2018). R Markdown: The Definitive Guide. CRC Press. https://bookdown.org/yihui/rmarkdown/

Bryan, J., & Hester, J. What They Forgot to Teach You About R. https://whattheyforgot.org/  
