<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 1 Introducción a R y visualización de datos | R para preparación y visualización de datos</title>
  <meta name="description" content="Capítulo 1 Introducción a R y visualización de datos | R para preparación y visualización de datos" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 1 Introducción a R y visualización de datos | R para preparación y visualización de datos" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://gorkang.github.io/R_preparacion_visualizacion_datos/index.html" />
  
  
  <meta name="github-repo" content="gorkang/R_preparacion_visualizacion_datos" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 1 Introducción a R y visualización de datos | R para preparación y visualización de datos" />
  
  
  

<meta name="author" content="Gorka Navarrete  " />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preparando-sistema.html"/>
<link rel="next" href="preparación-y-transformación-de-datos.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/base.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos"><i class="fa fa-check"></i>Objetivos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#como-empezar"><i class="fa fa-check"></i>Como empezar</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliografía"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html"><i class="fa fa-check"></i>Preparando nuestro sistema</a>
<ul>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#empezando-en-a-b-c"><i class="fa fa-check"></i>Empezando en A-B-C</a>
<ul>
<li><a href="preparando-sistema.html#a-instalar-r"><strong>(A)</strong> Instalar R</a></li>
<li><a href="preparando-sistema.html#b-instalar-rstudio"><strong>(B)</strong> Instalar RStudio</a></li>
<li><a href="preparando-sistema.html#c-paquetes-para-el-workshop"><strong>(C)</strong> Paquetes para el workshop</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#algo-más-sobre-la-instalación-de-paquetes"><i class="fa fa-check"></i>Algo más sobre la instalación de paquetes</a>
<ul>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#cargar-paquetes"><i class="fa fa-check"></i>Cargar paquetes</a></li>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#todo-en-uno"><i class="fa fa-check"></i>Todo en uno</a></li>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#instalar-paquetes-de-github"><i class="fa fa-check"></i>Instalar paquetes de Github</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparando-sistema.html"><a href="preparando-sistema.html#bibliografía-1"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html"><i class="fa fa-check"></i><b>1</b> Introducción a R y visualización de datos</a>
<ul>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#paquetes-para-este-capítulo"><i class="fa fa-check"></i>Paquetes para este capítulo</a></li>
<li class="chapter" data-level="1.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#introducción-porque-la-visualización-de-datos-es-importante"><i class="fa fa-check"></i><b>1.1</b> Introducción: porque la visualización de datos es importante</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejemplo-del-mundo-real-cuantos-temas-deberia-estudiar"><i class="fa fa-check"></i><b>1.1.1</b> Ejemplo del mundo real: ¿cuantos temas deberia estudiar?</a>
<ul>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#moraleja-es-importante-mostrar-los-datos-individuales-yo-la-distribución-de-los-datos"><i class="fa fa-check"></i>Moraleja: es importante mostrar los datos individuales y/o la distribución de los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#por-qué-r"><i class="fa fa-check"></i><b>1.2</b> Por qué R?</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#bienvenida-al-tidyverse"><i class="fa fa-check"></i><b>1.2.1</b> Bienvenida al tidyverse</a>
<ul>
<li class="chapter" data-level="1.2.1.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#tidyverse-vs-base-r"><i class="fa fa-check"></i><b>1.2.1.1</b> Tidyverse vs Base R</a></li>
</ul></li>
<li class="chapter" data-level="1.2.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#antes-de-empezar"><i class="fa fa-check"></i><b>1.2.2</b> Antes de empezar</a></li>
<li class="chapter" data-level="1.2.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#r-para-visualización-de-datos"><i class="fa fa-check"></i><b>1.2.3</b> R para visualización de datos</a>
<ul>
<li class="chapter" data-level="1.2.3.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#primeros-pasos---con-training-wheels"><i class="fa fa-check"></i><b>1.2.3.1</b> Primeros pasos - con training wheels</a></li>
<li class="chapter" data-level="1.2.3.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#aprendamos-con-garrick"><i class="fa fa-check"></i><b>1.2.3.2</b> Aprendamos con Garrick</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#visualización-de-datos-con-ggplot2"><i class="fa fa-check"></i><b>1.3</b> Visualización de datos con ggplot2</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#primeros-pasos"><i class="fa fa-check"></i><b>1.3.1</b> Primeros pasos</a></li>
<li class="chapter" data-level="1.3.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#aesthetic-mappings"><i class="fa fa-check"></i><b>1.3.2</b> Aesthetic mappings</a>
<ul>
<li class="chapter" data-level="1.3.2.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#x-y"><i class="fa fa-check"></i><b>1.3.2.1</b> x-y</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicio"><i class="fa fa-check"></i>Ejercicio</a></li>
<li class="chapter" data-level="1.3.2.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#color-alpha-size"><i class="fa fa-check"></i><b>1.3.2.2</b> Color, alpha, size</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicios"><i class="fa fa-check"></i>Ejercicios</a></li>
<li class="chapter" data-level="1.3.2.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#shape"><i class="fa fa-check"></i><b>1.3.2.3</b> Shape</a></li>
<li class="chapter" data-level="1.3.2.4" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#linetype"><i class="fa fa-check"></i><b>1.3.2.4</b> Linetype</a></li>
</ul></li>
<li class="chapter" data-level="1.3.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geoms"><i class="fa fa-check"></i><b>1.3.3</b> Geoms</a>
<ul>
<li class="chapter" data-level="1.3.3.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geom_point-y-geom_jitter"><i class="fa fa-check"></i><b>1.3.3.1</b> geom_point y geom_jitter</a></li>
<li class="chapter" data-level="1.3.3.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geom_smooth"><i class="fa fa-check"></i><b>1.3.3.2</b> geom_smooth</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicios-1"><i class="fa fa-check"></i>Ejercicios</a></li>
<li class="chapter" data-level="1.3.3.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geom_boxplot-y-geom_violin"><i class="fa fa-check"></i><b>1.3.3.3</b> geom_boxplot y geom_violin</a></li>
<li class="chapter" data-level="1.3.3.4" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#histogramas"><i class="fa fa-check"></i><b>1.3.3.4</b> geom_histogram y geom_bar</a></li>
<li class="chapter" data-level="1.3.3.5" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geom_density"><i class="fa fa-check"></i><b>1.3.3.5</b> geom_density</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicio-1"><i class="fa fa-check"></i>Ejercicio</a></li>
<li class="chapter" data-level="1.3.3.6" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#geom_density_ridges"><i class="fa fa-check"></i><b>1.3.3.6</b> geom_density_ridges</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicios-2"><i class="fa fa-check"></i>Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="1.3.4" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#facets"><i class="fa fa-check"></i><b>1.3.4</b> Facets</a>
<ul>
<li class="chapter" data-level="1.3.4.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#facet_grid"><i class="fa fa-check"></i><b>1.3.4.1</b> facet_grid</a></li>
<li class="chapter" data-level="1.3.4.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#facet_wrap"><i class="fa fa-check"></i><b>1.3.4.2</b> facet_wrap</a></li>
</ul></li>
<li class="chapter" data-level="1.3.5" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#transformaciones-estadísticas"><i class="fa fa-check"></i><b>1.3.5</b> Transformaciones estadísticas</a>
<ul>
<li class="chapter" data-level="1.3.5.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#stat_summary"><i class="fa fa-check"></i><b>1.3.5.1</b> stat_summary</a></li>
<li class="chapter" data-level="1.3.5.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#promedios-por-grupo"><i class="fa fa-check"></i><b>1.3.5.2</b> Promedios por grupo</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicios-3"><i class="fa fa-check"></i>Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="1.3.6" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#personalización-de-gráficas"><i class="fa fa-check"></i><b>1.3.6</b> Personalización de gráficas</a>
<ul>
<li class="chapter" data-level="1.3.6.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#coordenadas"><i class="fa fa-check"></i><b>1.3.6.1</b> Coordenadas</a></li>
<li class="chapter" data-level="1.3.6.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#scales"><i class="fa fa-check"></i><b>1.3.6.2</b> Scales</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicio-2"><i class="fa fa-check"></i>Ejercicio</a></li>
<li class="chapter" data-level="1.3.6.3" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#colors-and-fill-scales"><i class="fa fa-check"></i><b>1.3.6.3</b> Colors and fill scales</a></li>
<li class="chapter" data-level="1.3.6.4" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#combinando-graficas"><i class="fa fa-check"></i><b>1.3.6.4</b> Combinando gráficas</a></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#ejercicios-4"><i class="fa fa-check"></i>Ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#visualización-interactiva"><i class="fa fa-check"></i><b>1.4</b> Visualización interactiva</a>
<ul>
<li class="chapter" data-level="1.4.0.1" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#gráficas-interactivas"><i class="fa fa-check"></i><b>1.4.0.1</b> Gráficas interactivas</a></li>
<li class="chapter" data-level="1.4.0.2" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#animando-gráficas"><i class="fa fa-check"></i><b>1.4.0.2</b> Animando gráficas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introducción-a-r-y-visualización-de-datos.html"><a href="introducción-a-r-y-visualización-de-datos.html#bibliografía-2"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html"><i class="fa fa-check"></i><b>2</b> Preparación y transformación de datos</a>
<ul>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#paquetes-para-este-capítulo-1"><i class="fa fa-check"></i>Paquetes para este capítulo</a></li>
<li class="chapter" data-level="2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#importar-y-exportar-datos"><i class="fa fa-check"></i><b>2.1</b> Importar y exportar datos</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#importar-un-solo-archivo"><i class="fa fa-check"></i><b>2.1.1</b> Importar un solo archivo</a>
<ul>
<li class="chapter" data-level="2.1.1.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#archivos-csv"><i class="fa fa-check"></i><b>2.1.1.1</b> Archivos CSV</a></li>
<li class="chapter" data-level="2.1.1.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#otros-tipos-de-archivos"><i class="fa fa-check"></i><b>2.1.1.2</b> Otros tipos de archivos</a>
<ul>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#archivos-excel"><i class="fa fa-check"></i>Archivos excel</a></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#archivos-spss"><i class="fa fa-check"></i>Archivos SPSS</a></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#archivos-libreoffice"><i class="fa fa-check"></i>Archivos Libreoffice</a></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#google-sheets"><i class="fa fa-check"></i>Google sheets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#ejercicios---importar-datos"><i class="fa fa-check"></i>Ejercicios - Importar datos</a></li>
<li class="chapter" data-level="2.1.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#importar-múltiples-archivos"><i class="fa fa-check"></i><b>2.1.2</b> Importar múltiples archivos</a>
<ul>
<li class="chapter" data-level="2.1.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#incluir-nombres-de-archivos"><i class="fa fa-check"></i><b>2.1.2.1</b> Incluir nombres de archivos</a></li>
<li class="chapter" data-level="2.1.2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#con-parametros"><i class="fa fa-check"></i><b>2.1.2.2</b> Con parametros</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#ejercicios---importar-múltiples-archivos"><i class="fa fa-check"></i>Ejercicios - Importar múltiples archivos</a></li>
<li class="chapter" data-level="2.1.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#exportar-datos"><i class="fa fa-check"></i><b>2.1.3</b> Exportar datos</a>
<ul>
<li class="chapter" data-level="2.1.3.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#archivos-csv-1"><i class="fa fa-check"></i><b>2.1.3.1</b> Archivos CSV</a></li>
<li class="chapter" data-level="2.1.3.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#otros-archivos"><i class="fa fa-check"></i><b>2.1.3.2</b> Otros Archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#preparación-y-transformación-de-datos-1"><i class="fa fa-check"></i><b>2.2</b> Preparación y transformación de datos</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#tidy-data"><i class="fa fa-check"></i><b>2.2.1</b> Tidy data</a></li>
<li class="chapter" data-level="2.2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#verbos-dplyr"><i class="fa fa-check"></i><b>2.2.2</b> Verbos dplyr</a>
<ul>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#tabla-resumen-dplyr"><i class="fa fa-check"></i>Tabla resumen dplyr</a></li>
<li class="chapter" data-level="2.2.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#filtrar-y-ordenar-filas"><i class="fa fa-check"></i><b>2.2.2.1</b> Filtrar y ordenar filas</a></li>
<li class="chapter" data-level="2.2.2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#seleccionar-ordenar-y-renombrar-columnas"><i class="fa fa-check"></i><b>2.2.2.2</b> Seleccionar, ordenar y renombrar columnas</a>
<ul>
<li class="chapter" data-level="2.2.2.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#selección-avanzada-con-select_helpers"><i class="fa fa-check"></i><b>2.2.2.2.1</b> Selección avanzada con select_helpers()</a></li>
</ul></li>
<li class="chapter" data-level="2.2.2.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#modificar-y-añadir-variables"><i class="fa fa-check"></i><b>2.2.2.3</b> Modificar y añadir variables</a></li>
<li class="chapter" data-level="2.2.2.4" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#resúmenes-agrupados"><i class="fa fa-check"></i><b>2.2.2.4</b> Resúmenes agrupados</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#ejercicios---verbos-dplyr"><i class="fa fa-check"></i>Ejercicios - verbos dplyr</a></li>
<li class="chapter" data-level="2.2.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#verbos-avanzados-y-otras-criaturas-indómitas"><i class="fa fa-check"></i><b>2.2.3</b> Verbos avanzados y otras criaturas indómitas</a>
<ul>
<li class="chapter" data-level="2.2.3.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#wide-to-long"><i class="fa fa-check"></i><b>2.2.3.1</b> Wide to long</a></li>
<li class="chapter" data-level="2.2.3.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#long-to-wide"><i class="fa fa-check"></i><b>2.2.3.2</b> Long to wide</a>
<ul>
<li class="chapter" data-level="2.2.3.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#para-que-sirve-tener-los-datos-en-formato-long"><i class="fa fa-check"></i><b>2.2.3.2.1</b> ¿Para que sirve tener los datos en formato long?</a></li>
</ul></li>
<li class="chapter" data-level="2.2.3.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#separate-omit-ifelse-case_when-tipos-de-variables"><i class="fa fa-check"></i><b>2.2.3.3</b> Separate, omit, ifelse, case_when, tipos de variables…</a></li>
<li class="chapter" data-level="2.2.3.4" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#regular-expressions"><i class="fa fa-check"></i><b>2.2.3.4</b> Regular expressions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#ejercicios---verbos-avanzados-dplyr"><i class="fa fa-check"></i>Ejercicios - verbos avanzados dplyr</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#combinar-bases-de-datos"><i class="fa fa-check"></i><b>2.3</b> Combinar bases de datos</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#bind"><i class="fa fa-check"></i><b>2.3.1</b> Bind</a></li>
<li class="chapter" data-level="2.3.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#joins"><i class="fa fa-check"></i><b>2.3.2</b> Joins</a>
<ul>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#tipos-de-join"><i class="fa fa-check"></i>Tipos de Join</a></li>
<li class="chapter" data-level="2.3.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#mutating-joins"><i class="fa fa-check"></i><b>2.3.2.1</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="2.3.2.1.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#inner-join"><i class="fa fa-check"></i><b>2.3.2.1.1</b> Inner join</a></li>
<li class="chapter" data-level="2.3.2.1.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#left-join"><i class="fa fa-check"></i><b>2.3.2.1.2</b> Left join</a></li>
<li class="chapter" data-level="2.3.2.1.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#full-join"><i class="fa fa-check"></i><b>2.3.2.1.3</b> Full join</a></li>
</ul></li>
<li class="chapter" data-level="2.3.2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#filtering-joins"><i class="fa fa-check"></i><b>2.3.2.2</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="2.3.2.2.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#anti-join"><i class="fa fa-check"></i><b>2.3.2.2.1</b> Anti join</a></li>
<li class="chapter" data-level="2.3.2.2.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#semi-join"><i class="fa fa-check"></i><b>2.3.2.2.2</b> Semi join</a></li>
</ul></li>
<li class="chapter" data-level="2.3.2.3" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#nesting-joins"><i class="fa fa-check"></i><b>2.3.2.3</b> Nesting joins</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#ejercicios-joins"><i class="fa fa-check"></i>Ejercicios JOINS</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#más-allá-de-la-manipulación"><i class="fa fa-check"></i><b>2.4</b> Más allá de la manipulación</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#fast-and-frugal-trees"><i class="fa fa-check"></i><b>2.4.1</b> Fast and Frugal trees</a></li>
<li class="chapter" data-level="2.4.2" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#machine-learning"><i class="fa fa-check"></i><b>2.4.2</b> Machine learning</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#datasets-interesantes"><i class="fa fa-check"></i><b>2.5</b> Datasets interesantes</a></li>
<li class="chapter" data-level="" data-path="preparación-y-transformación-de-datos.html"><a href="preparación-y-transformación-de-datos.html#bibliografía-3"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html"><i class="fa fa-check"></i><b>3</b> Análisis de datos exploratorio</a>
<ul>
<li class="chapter" data-level="" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#paquetes-para-este-capítulo-2"><i class="fa fa-check"></i>Paquetes para este capítulo</a></li>
<li class="chapter" data-level="3.1" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#visualizando-distribuciones"><i class="fa fa-check"></i><b>3.1</b> Visualizando distribuciones</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#variables-categóricas"><i class="fa fa-check"></i><b>3.1.1</b> Variables categóricas</a></li>
<li class="chapter" data-level="3.1.2" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#variables-continuas"><i class="fa fa-check"></i><b>3.1.2</b> Variables continuas</a></li>
<li class="chapter" data-level="" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicios-5"><i class="fa fa-check"></i>Ejercicios</a></li>
<li><a href="análisis-de-datos-exploratorio.html#section-13"></a></li>
<li class="chapter" data-level="" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicio-variables-individuales"><i class="fa fa-check"></i>Ejercicio variables individuales</a></li>
<li class="chapter" data-level="3.1.3" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#visualizando-datasets-completos"><i class="fa fa-check"></i><b>3.1.3</b> Visualizando datasets completos</a>
<ul>
<li class="chapter" data-level="3.1.3.1" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#inspectdf"><i class="fa fa-check"></i><b>3.1.3.1</b> inspectdf</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#covariación"><i class="fa fa-check"></i><b>3.2</b> Covariación</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#variable-categórica-y-continua"><i class="fa fa-check"></i><b>3.2.1</b> Variable categórica y continua</a></li>
<li class="chapter" data-level="3.2.2" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicio-3"><i class="fa fa-check"></i><b>3.2.2</b> Ejercicio</a></li>
<li class="chapter" data-level="3.2.3" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicio-4"><i class="fa fa-check"></i><b>3.2.3</b> Ejercicio</a></li>
<li class="chapter" data-level="3.2.4" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#dos-variables-categóricas"><i class="fa fa-check"></i><b>3.2.4</b> Dos variables categóricas</a></li>
<li class="chapter" data-level="3.2.5" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#dos-variables-continuas"><i class="fa fa-check"></i><b>3.2.5</b> Dos variables continuas</a></li>
<li class="chapter" data-level="3.2.6" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicio-covariación-2"><i class="fa fa-check"></i><b>3.2.6</b> Ejercicio covariación 2</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicios-finales"><i class="fa fa-check"></i><b>3.3</b> Ejercicios finales</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#ejercicio-exploración-base-nueva"><i class="fa fa-check"></i><b>3.3.1</b> Ejercicio exploración base nueva</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="análisis-de-datos-exploratorio.html"><a href="análisis-de-datos-exploratorio.html#bibliografía-4"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><i class="fa fa-check"></i><b>4</b> Trabajo con RMarkdown para reportes reproducibles</a>
<ul>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#paquetes-para-este-capítulo-3"><i class="fa fa-check"></i>Paquetes para este capítulo</a></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#dependencias"><i class="fa fa-check"></i>Dependencias</a></li>
<li class="chapter" data-level="4.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#que-es-la-reproducibilidad"><i class="fa fa-check"></i><b>4.1</b> Que es la reproducibilidad</a></li>
<li class="chapter" data-level="4.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#proyectos-de-r-studio"><i class="fa fa-check"></i><b>4.2</b> Proyectos de R-Studio</a></li>
<li class="chapter" data-level="4.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#control-de-cambios-con-git-y-github"><i class="fa fa-check"></i><b>4.3</b> Control de cambios con Git y Github</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#git"><i class="fa fa-check"></i><b>4.3.1</b> Git</a></li>
<li class="chapter" data-level="4.3.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#github"><i class="fa fa-check"></i><b>4.3.2</b> Github</a></li>
<li class="chapter" data-level="4.3.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#clonar-repo"><i class="fa fa-check"></i><b>4.3.3</b> Clonar un repositorio existente</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-14"></a></li>
</ul></li>
<li class="chapter" data-level="4.3.4" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#crear-un-proyecto-en-rstudio-asociado-a-github"><i class="fa fa-check"></i><b>4.3.4</b> Crear un proyecto en RStudio asociado a Github</a>
<ul>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#versión-simple-recomendado"><i class="fa fa-check"></i>Versión simple [recomendado]</a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-15"></a></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#usando-el-terminal"><i class="fa fa-check"></i>Usando el terminal</a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-16"></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#ejercicio-git-github"><i class="fa fa-check"></i>Ejercicio Git-Github</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#workflow"><i class="fa fa-check"></i><b>4.4</b> Workflow</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#modelo-básico"><i class="fa fa-check"></i><b>4.4.1</b> Modelo básico</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-17"></a></li>
</ul></li>
<li class="chapter" data-level="4.4.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#pull-request-en-3-1-sencillos-pasos"><i class="fa fa-check"></i><b>4.4.2</b> Pull request en 3 + 1 sencillos pasos</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-18"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-19"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-20"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-21"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-22"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-23"></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#ejercicio-5"><i class="fa fa-check"></i>Ejercicio</a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-24"></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#rmarkdown-openscience-y-análisis-reproducibles"><i class="fa fa-check"></i><b>4.5</b> RMarkdown, openscience y análisis reproducibles</a></li>
<li class="chapter" data-level="4.6" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#sintaxis-chunks-de-código-tipos-de-archivo"><i class="fa fa-check"></i><b>4.6</b> Sintaxis, chunks de código, tipos de archivo</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#cabecera-yaml"><i class="fa fa-check"></i><b>4.6.1</b> Cabecera YAML</a></li>
<li class="chapter" data-level="4.6.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#rmarkdown"><i class="fa fa-check"></i><b>4.6.2</b> Rmarkdown</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-25"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-26"></a></li>
</ul></li>
<li class="chapter" data-level="4.6.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#chunks-de-código"><i class="fa fa-check"></i><b>4.6.3</b> Chunks de código</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-27"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-28"></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#ejercicio-básico-rmarkdown"><i class="fa fa-check"></i>Ejercicio básico RMarkdown</a></li>
<li class="chapter" data-level="4.6.4" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#herramientas-básicas-para-investigadorases"><i class="fa fa-check"></i><b>4.6.4</b> Herramientas básicas para investigadoras/es</a>
<ul>
<li class="chapter" data-level="4.6.4.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#descriptivos"><i class="fa fa-check"></i><b>4.6.4.1</b> Descriptivos</a></li>
<li class="chapter" data-level="4.6.4.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#inferenciales"><i class="fa fa-check"></i><b>4.6.4.2</b> Inferenciales</a>
<ul>
<li class="chapter" data-level="4.6.4.2.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#test-de-correlación"><i class="fa fa-check"></i><b>4.6.4.2.1</b> Test de correlación</a></li>
<li class="chapter" data-level="4.6.4.2.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#tabla-de-correlaciones"><i class="fa fa-check"></i><b>4.6.4.2.2</b> Tabla de correlaciones</a></li>
</ul></li>
<li class="chapter" data-level="4.6.4.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#lm"><i class="fa fa-check"></i><b>4.6.4.3</b> LM</a></li>
<li class="chapter" data-level="4.6.4.4" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#anova"><i class="fa fa-check"></i><b>4.6.4.4</b> Anova</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#ejercicio-avanzado"><i class="fa fa-check"></i>Ejercicio avanzado</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#de-los-datos-al-reporte-final-una-historia-de-amor-con-r"><i class="fa fa-check"></i><b>4.7</b> De los datos al reporte final: Una historia de amor con R</a></li>
<li class="chapter" data-level="4.8" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#avanzado"><i class="fa fa-check"></i><b>4.8</b> Avanzado</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#usar-bibliografía"><i class="fa fa-check"></i><b>4.8.1</b> Usar bibliografía</a></li>
<li class="chapter" data-level="4.8.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#citar-los-paquetes-que-usamos"><i class="fa fa-check"></i><b>4.8.2</b> Citar los paquetes que usamos</a></li>
<li class="chapter" data-level="4.8.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#manejo-de-dependencias"><i class="fa fa-check"></i><b>4.8.3</b> Manejo de dependencias</a>
<ul>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-29"></a></li>
<li><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#section-30"></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#mas-allá-de-rmarkdown"><i class="fa fa-check"></i><b>4.9</b> Mas allá de Rmarkdown</a></li>
<li class="chapter" data-level="4.10" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#varios"><i class="fa fa-check"></i><b>4.10</b> Varios</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#shortcuts"><i class="fa fa-check"></i><b>4.10.1</b> Shortcuts!</a></li>
<li class="chapter" data-level="4.10.2" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#estilo"><i class="fa fa-check"></i><b>4.10.2</b> Estilo</a></li>
<li class="chapter" data-level="4.10.3" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#algunos-paquetes-interesantes"><i class="fa fa-check"></i><b>4.10.3</b> Algunos paquetes interesantes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="trabajo-con-rmarkdown-para-reportes-reproducibles.html"><a href="trabajo-con-rmarkdown-para-reportes-reproducibles.html#bibliografía-5"><i class="fa fa-check"></i>Bibliografía</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reporte-final.html"><a href="reporte-final.html"><i class="fa fa-check"></i><b>5</b> Reporte final</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reporte-final.html"><a href="reporte-final.html#base-de-datos-a-usar"><i class="fa fa-check"></i><b>5.1</b> Base de datos a usar</a></li>
<li class="chapter" data-level="5.2" data-path="reporte-final.html"><a href="reporte-final.html#paso-a-paso"><i class="fa fa-check"></i><b>5.2</b> Paso a paso</a></li>
<li class="chapter" data-level="5.3" data-path="reporte-final.html"><a href="reporte-final.html#hint"><i class="fa fa-check"></i><b>5.3</b> Hint</a></li>
<li class="chapter" data-level="5.4" data-path="reporte-final.html"><a href="reporte-final.html#nota-final"><i class="fa fa-check"></i><b>5.4</b> Nota final</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="paquetes-usados.html"><a href="paquetes-usados.html"><i class="fa fa-check"></i>Paquetes usados</a>
<ul>
<li class="chapter" data-level="" data-path="paquetes-usados.html"><a href="paquetes-usados.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R para preparación y visualización de datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introducción-a-r-y-visualización-de-datos" class="section level1" number="1">
<h1><span class="header-section-number">Capítulo 1</span> Introducción a R y visualización de datos</h1>
<hr />
<div id="paquetes-para-este-capítulo" class="section level4 unnumbered">
<h4>Paquetes para este capítulo</h4>
<p>Para poder ejecutar en tu ordenador el código de los ejemplos y ejercicios de este capítulo vas a necesitar los paquetes siguientes. Te recomiendo que abras un script de R, pegues estas líneas al principio y las ejecutes (CNTRL + ENTER para ejecutar linea a linea).</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;cowplot&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;cowplot&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;cowplot&#39;</span>)</span>
<span id="cb10-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb10-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;esquisse&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;esquisse&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;esquisse&#39;</span>) </span>
<span id="cb10-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;gapminder&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;gapminder&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;gapminder&#39;</span>)</span>
<span id="cb10-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;gghighlight&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;gghighlight&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;gghighlight&#39;</span>)</span>
<span id="cb10-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb10-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggthemes&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggthemes&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggthemes&#39;</span>)</span>
<span id="cb10-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggridges&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggridges&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggridges&#39;</span>)</span>
<span id="cb10-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;knitr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;knitr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;knitr&#39;</span>)</span>
<span id="cb10-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;plotly&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;plotly&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;plotly&#39;</span>)</span>
<span id="cb10-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;purrr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;purrr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;purrr&#39;</span>)</span>
<span id="cb10-12"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb10-13"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;sjPlot&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;sjPlot&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;sjPlot&#39;</span>)</span>
<span id="cb10-14"><a href="introducción-a-r-y-visualización-de-datos.html#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;tidyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;tidyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;tidyr&#39;</span>)</span></code></pre></div>
<hr />
</div>
<div id="introducción-porque-la-visualización-de-datos-es-importante" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Introducción: porque la visualización de datos es importante</h2>
<p><em>“These 13 datasets (the Datasaurus, plus 12 others) each have the same summary statistics (x/y mean, x/y standard deviation, and Pearson’s correlation) to two decimal places, while being drastically different in appearance.”</em> (Matejka, J., &amp; Fitzmaurice, G., 2017)</p>
<div class="figure">
<img src="data/images/DinoSequentialSmaller.gif" alt="" />
<p class="caption">SOURCE: <a href="https://www.autodeskresearch.com/publications/samestats" class="uri">https://www.autodeskresearch.com/publications/samestats</a></p>
</div>
<div id="ejemplo-del-mundo-real-cuantos-temas-deberia-estudiar" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Ejemplo del mundo real: ¿cuantos temas deberia estudiar?</h3>
<p>Este ejemplo viene de un experimento que realizamos junto con <a href="https://scholar.google.es/citations?user=fUHQA3gAAAAJ&amp;hl=es">Carlos Santamaría</a> hace algún tiempo. Presentamos una tarea sobre cálculo de probabilidades a personas que estaban entrando a un examen para convertirse en trabajadores del estado. Simplificando algo, digamos que la materia para el examen eran 80 temas. No es posible estudiar con profundidad todos los temas, así que los opositores se concentraban en un subconjunto de esos temas (e.g. 30 de 80). Al empezar el examen, se seleccionaban al azar 5 de los 80 temas, y cada persona elegía uno de ellos para desarrollar.</p>
<p>Abajo se puede ver como cambia la probabilidad de que uno de los temas estudiados aparezca dentro de los 5 seleccionados al azar. Con 30 de los 80 temas estudiados, la probabilidad de que uno de ellos salga en la prueba es del 91%. Si estudiáramos 47, subiríamos a una probabilidad del 99%.</p>
<div id="htmlwidget-1ef22c05e3ab2a17178b" style="width:768px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1ef22c05e3ab2a17178b">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],"y":[0.0624999999999931,0.121835443037971,0.178128042843224,0.231496351749503,0.282055802292298,0.329918748806139,0.375194509021939,0.417989405664269,0.458406808048681,0.496547173679047,0.532508089844865,0.566384315218418,0.598267821452356,0.628247834776798,0.656410877596706,0.682840810089262,0.707618871801041,0.730823723245395,0.752531487499827,0.772815791803121,0.791747809152812,0.809396299902584,0.825827653359239,0.841105929380374,0.85529289997142,0.868448090883106,0.880628823208751,0.891890254981501,0.902285422771741,0.911865283284286,0.920678754955863,0.928772759552199,0.936192263765507,0.942980320811725,0.949178112027837,0.954824988469183,0.959958512506771,0.964614499424583,0.968827059016889,0.972628637185556,0.976050057537356,0.979120562981279,0.981867857325842,0.984318146876398,0.986496182032448,0.988425298884949,0.990127460813626,0.991623300084282,0.992932159446106,0.994072133728973,0.995060111440831,0.995911816364818,0.996641849156818,0.997263728942578,0.997789934915157,0.998231947932101,0.998600292112879,0.998904576436167,0.999153536337005,0.999355075304421,0.999516306478308,0.999643594247131,0.999742595845132,0.99981830294949,0.999875083277734,0.999916722185169,0.999946464261908,0.999967054930402,0.999980782042735,0.999989517477794,0.999994758738868,0.999997670550592,0.999999126456437,0.999999750416046,0.999999958402661,0.999999999999963,0.999999999999946,0.99999999999992,0.99999999999992,1],"text":["N:  1<br />value: 0.0625000","N:  2<br />value: 0.1218354","N:  3<br />value: 0.1781280","N:  4<br />value: 0.2314964","N:  5<br />value: 0.2820558","N:  6<br />value: 0.3299187","N:  7<br />value: 0.3751945","N:  8<br />value: 0.4179894","N:  9<br />value: 0.4584068","N: 10<br />value: 0.4965472","N: 11<br />value: 0.5325081","N: 12<br />value: 0.5663843","N: 13<br />value: 0.5982678","N: 14<br />value: 0.6282478","N: 15<br />value: 0.6564109","N: 16<br />value: 0.6828408","N: 17<br />value: 0.7076189","N: 18<br />value: 0.7308237","N: 19<br />value: 0.7525315","N: 20<br />value: 0.7728158","N: 21<br />value: 0.7917478","N: 22<br />value: 0.8093963","N: 23<br />value: 0.8258277","N: 24<br />value: 0.8411059","N: 25<br />value: 0.8552929","N: 26<br />value: 0.8684481","N: 27<br />value: 0.8806288","N: 28<br />value: 0.8918903","N: 29<br />value: 0.9022854","N: 30<br />value: 0.9118653","N: 31<br />value: 0.9206788","N: 32<br />value: 0.9287728","N: 33<br />value: 0.9361923","N: 34<br />value: 0.9429803","N: 35<br />value: 0.9491781","N: 36<br />value: 0.9548250","N: 37<br />value: 0.9599585","N: 38<br />value: 0.9646145","N: 39<br />value: 0.9688271","N: 40<br />value: 0.9726286","N: 41<br />value: 0.9760501","N: 42<br />value: 0.9791206","N: 43<br />value: 0.9818679","N: 44<br />value: 0.9843181","N: 45<br />value: 0.9864962","N: 46<br />value: 0.9884253","N: 47<br />value: 0.9901275","N: 48<br />value: 0.9916233","N: 49<br />value: 0.9929322","N: 50<br />value: 0.9940721","N: 51<br />value: 0.9950601","N: 52<br />value: 0.9959118","N: 53<br />value: 0.9966418","N: 54<br />value: 0.9972637","N: 55<br />value: 0.9977899","N: 56<br />value: 0.9982319","N: 57<br />value: 0.9986003","N: 58<br />value: 0.9989046","N: 59<br />value: 0.9991535","N: 60<br />value: 0.9993551","N: 61<br />value: 0.9995163","N: 62<br />value: 0.9996436","N: 63<br />value: 0.9997426","N: 64<br />value: 0.9998183","N: 65<br />value: 0.9998751","N: 66<br />value: 0.9999167","N: 67<br />value: 0.9999465","N: 68<br />value: 0.9999671","N: 69<br />value: 0.9999808","N: 70<br />value: 0.9999895","N: 71<br />value: 0.9999948","N: 72<br />value: 0.9999977","N: 73<br />value: 0.9999991","N: 74<br />value: 0.9999998","N: 75<br />value: 1.0000000","N: 76<br />value: 1.0000000","N: 77<br />value: 1.0000000","N: 78<br />value: 1.0000000","N: 79<br />value: 1.0000000","N: 80<br />value: 1.0000000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30,30],"y":[0.0156249999999928,1.046875],"text":"xintercept: 30","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.95,83.95],"y":[1,1],"text":"yintercept: 1","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.2754946727549,"r":7.30593607305936,"b":39.6955859969559,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Probabilidad de que uno de los temas estudiados aparezca","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.95,83.95],"tickmode":"array","ticktext":["0","10","20","30","40","50","60","70","80"],"tickvals":[0,10,20,30,40,50,60,70,80],"categoryorder":"array","categoryarray":["0","10","20","30","40","50","60","70","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Temas estudiados","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.0156249999999928,1.046875],"tickmode":"array","ticktext":["5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],"tickvals":[0.05,0.1,0.15,0.2,0.25,0.3,0.35,0.4,0.45,0.5,0.55,0.6,0.65,0.7,0.75,0.8,0.85,0.9,0.95,1],"categoryorder":"array","categoryarray":["5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Probabilidad","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"e527411d1c03":{"x":{},"y":{},"type":"scatter"},"e5275bf343f8":{"xintercept":{}},"e5276cce47d":{"yintercept":{}}},"cur_data":"e527411d1c03","visdat":{"e527411d1c03":["function (y) ","x"],"e5275bf343f8":["function (y) ","x"],"e5276cce47d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><BR>
En el experimento le preguntamos a las personas por la probabilidad de que les apareciera alguno de los temas estudiados en la prueba. Comparamos las siguientes dos preguntas:</p>
<ul>
<li>¿Cuál es la probabilidad de que <strong>salga uno</strong> de los temas que has estudiado?<br />
</li>
<li>¿Cuál es la probabilidad de que <strong>no salga ninguno</strong> de los temas que has estudiado?</li>
</ul>
<p>Miramos el error promedio en función de la pregunta (cuanto se han alejado de la probabilidad correcta), y vimos que nuestra manipulación había tenido un efecto considerable:</p>
<table>
<thead>
<tr class="header">
<th align="left">Question</th>
<th align="right">Error_promedio</th>
<th align="right">SD</th>
<th align="right">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">p (no salga ninguno)</td>
<td align="right">4.016129</td>
<td align="right">35.82469</td>
<td align="right">31</td>
</tr>
<tr class="even">
<td align="left">p (salga uno)</td>
<td align="right">-30.741936</td>
<td align="right">20.01494</td>
<td align="right">31</td>
</tr>
</tbody>
</table>
<p><BR></p>
<p>Hay una diferencia notable entre condiciones. Pasamos de un error promedio del -30.7% a tan solo 4%, simplemente cambiando la pregunta. Hagamos un sencillo análisis de regresión para ver si la diferencia es significativa, y cuanta varianza explica nuestro modelo.</p>
<table style="border-collapse:collapse; border:none;">
<tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">
 
</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">
Error
</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">
Predictors
</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">
Estimates
</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">
CI
</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">
p
</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">
(Intercept)
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
4.02
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
-6.41 – 14.44
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
0.444
</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">
Question [p (salga uno)]
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
-34.76
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
-49.50 – -20.02
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">
<strong>&lt;0.001</strong>
</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">
Observations
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">
62
</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">
R<sup>2</sup> / R<sup>2</sup> adjusted
</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">
0.270 / 0.258
</td>
</tr>
</table>
<p><img src="bookdown-workshop-R_files/figure-html/visualizacion-importante-01c-1.png" width="1152" /></p>
<pre class="bg-output"><code>## 
##  Shapiro-Wilk normality test
## 
## data:  modelo_regresion$residuals
## W = 0.96215, p-value = 0.0532</code></pre>
<BR>
<details>
<summary>
Todo es hermoso. Tenemos un efecto claramente significativo de la pregunta (y con un R2-ajustado de .258, no está nada mal), y además, nuestro modelo no incumple el supuesto de normalidad de residuos (por los pelos!). Léeme <img src="data/images/hint.png" />
</summary>
<span style="color: orange;"><a href="https://stats.stackexchange.com/questions/2492/is-normality-testing-essentially-useless">Las pruebas de normalidad son muy sensibles al n de la muestra</a></span>
</details>
<p>Preparamos un plot con promedios y barras con error standard para nuestro paper.</p>
<p><img src="bookdown-workshop-R_files/figure-html/visualizacion-importante-01d-1.png" width="1152" /></p>
<p>Estamos listos para escribir el paper. Solo por curiosidad, veamos boxplots de los dos grupos. Mmmm… hay algo extraño:</p>
<p><img src="bookdown-workshop-R_files/figure-html/visualizacion-importante-02-1.png" width="1152" /></p>
<p><BR>
Volvemos a extraer descriptivos… pero esta vez incluimos la mediana.</p>
<table>
<thead>
<tr class="header">
<th align="left">Question</th>
<th align="right">Error_promedio</th>
<th align="right">Error_mediana</th>
<th align="right">SD</th>
<th align="right">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">p (no salga ninguno)</td>
<td align="right">4.016129</td>
<td align="right">25</td>
<td align="right">35.82469</td>
<td align="right">31</td>
</tr>
<tr class="even">
<td align="left">p (salga uno)</td>
<td align="right">-30.741936</td>
<td align="right">-37</td>
<td align="right">20.01494</td>
<td align="right">31</td>
</tr>
</tbody>
</table>
<p>¿Qué está pasando? Veamos las respuestas de todos los participantes, junto con la distribución de los datos, más la media y mediana por condición.</p>
<p><img src="bookdown-workshop-R_files/figure-html/visualizacion-importante-04-1.png" width="1152" /></p>
<hr />
<p><strong>TLDR</strong>: La manera en la visualizamos la información determina las conclusiones a las que llegamos. En una sola gráfica:</p>
<p><img src="bookdown-workshop-R_files/figure-html/visualizacion-importante-05-1.png" width="1152" /></p>
<div id="moraleja-es-importante-mostrar-los-datos-individuales-yo-la-distribución-de-los-datos" class="section level4 unnumbered">
<h4>Moraleja: es importante mostrar los datos individuales y/o la distribución de los datos</h4>
<div class="figure">
<img src="data/images/BoxViolinSmaller.gif" alt="" />
<p class="caption">SOURCE: <a href="https://www.autodeskresearch.com/publications/samestats" class="uri">https://www.autodeskresearch.com/publications/samestats</a></p>
</div>
<hr />
</div>
</div>
</div>
<div id="por-qué-r" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Por qué R?</h2>
<div style="float:left;position: relative; margin:0px 30px 0px 0px;">
<img src="data/images/R_logo.png" />
</div>
<p>R es <a href="http://r4stats.com/articles/popularity/">uno de los programas para data science mas populares</a>, especialmente usado en la academia. El numero de paquetes que ofrecen funcionalidades de todo tipo no ha dejado de crecer. En 2021 el numero de paquetes en <a href="https://cran.r-project.org/web/packages/index.html">R-cran</a> ha superado los 19,000 (<a href="https://mran.microsoft.com/packages">ver este buscador de paquetes</a>), y el ritmo de crecimiento nos acerca a la singularidad… ;)</p>
<p><BR></p>
<div style="clear: both;">

</div>
<div class="figure">
<img src="data/images/number-of-submitted-packages-to-CRAN.png" alt="" />
<p class="caption">SOURCE: <a href="https://gist.github.com/daroczig/3cf06d6db4be2bbe3368" class="uri">https://gist.github.com/daroczig/3cf06d6db4be2bbe3368</a></p>
</div>
<!-- (https://gist.githubusercontent.com/daroczig/3cf06d6db4be2bbe3368/raw/b66b0531fb1b86d3e04a003b2e105ad4f147900e/number-of-submitted-packages-to-CRAN.png)   -->
<p><BR></p>
<p>Además de lo anterior, R es un programa de código abierto (algo esencial para poder hacer ciencia reproducible), con una <a href="https://community.rstudio.com/">comunidad de usuarios</a> muy acogedora, y con un importante foco en la <a href="https://qz.com/work/1661486/r-ladies-made-data-science-inclusive/">inclusividad</a>. La importancia de la comunidad es difícil de apreciar. Por ejemplo, es relativamente habitual que uno abra un issue en Github pidiendo una nueva característica en un paquete, y que los creadores la implementen (e.g. <a href="https://github.com/easystats/correlation/issues/145">correlation</a>, <a href="https://github.com/ddsjoberg/gtsummary/issues/677">gtsummary</a>, <a href="https://github.com/ropensci/rorcid/issues/44">rorcid</a>), que uno reporte un error y lo corrijan (e.g. <a href="https://github.com/strengejacke/sjPlot/issues/725">sjPlot</a>, <a href="https://github.com/ddsjoberg/gtsummary/issues/686">gtsummary</a>), recibir correcciones y mejoras en tus repositorios (e.g. <a href="https://github.com/gorkang/html2latex/pull/1">html2latex</a>, <a href="https://github.com/gorkang/2019-Chile/pull/1">2019-Chile</a>), o poder contribuir a repositorios de otros (e.g. <a href="https://github.com/jspsych/jsPsych/pull/1212">jsPsych</a>, <a href="https://github.com/ddsjoberg/gtsummary/pull/683">gtsummary</a>).</p>
<p>Sus funciones de visualización son muy potentes (ver la <a href="https://www.r-graph-gallery.com/">r-graph-gallery</a> para algunos ejemplos), siendo usadas como herramienta principal en medios como la <a href="https://medium.com/bbc-visual-and-data-journalism/how-the-bbc-visual-and-data-journalism-team-works-with-graphics-in-r-ed0b35693535">BBC</a>.</p>
<div class="figure">
<img src="data/images/BBC.png" alt="" />
<p class="caption">SOURCE: <a href="https://medium.com/bbc-visual-and-data-journalism/how-the-bbc-visual-and-data-journalism-team-works-with-graphics-in-r-ed0b35693535">BBC</a></p>
</div>
<p><BR></p>
<p>No menos importante, hay una gran cantidad de cursos, tutoriales, presentaciones y libros de una calidad excelente, con los que podemos aprender de manera autónoma. Por ejemplo:</p>
<ul>
<li><a href="https://psyteachr.github.io/">psyTeachR team at the University of Glasgow</a></li>
<li><a href="https://pkg.garrickadenbuie.com/gentle-ggplot2/">A Gentle Guide to the Grammar of Graphics with ggplot2</a></li>
<li><a href="https://resulumit.com/teaching/rmd_workshop.htm">resulumit.com Rmd workshop</a></li>
<li><a href="https://r4ds.had.co.nz/">R for Data Science</a></li>
<li><a href="https://adv-r.hadley.nz/">Advanced R</a></li>
</ul>
<p><BR></p>
<p>Con R puedes recoger datos interactivamente con <a href="https://shiny.rstudio.com/">shiny</a>, preparar datos (o extraerlos de paginas web con <a href="https://github.com/tidyverse/rvest">rvest</a> o <a href="https://github.com/ropensci/RSelenium">RSelenium</a>), visualizar datos estáticos con <a href="https://ggplot2.tidyverse.org/">ggplot</a>, animarlos con <a href="https://github.com/thomasp85/gganimate">gganimate</a>, visualizarlos con interactivamente con <a href="https://github.com/ropensci/plotly/">plotly</a> o <a href="https://shiny.rstudio.com/">shiny</a>. Puedes también analizar los datos con todas las técnicas imaginables, desde anovas con <a href="https://github.com/singmann/afex">afex</a> a modelos mixtos con <a href="https://github.com/lme4/lme4">lmer</a> y/o <a href="https://github.com/singmann/afex">afex</a>, pasando por meta-análisis con <a href="http://www.metafor-project.org/doku.php">metafor</a>, SEM, Path analysis, mediación, con <a href="http://lavaan.ugent.be/tutorial/sem.html">lavaan</a>, análisis Bayesianos con <a href="https://github.com/paul-buerkner/brms">brms</a> o <a href="http://bayesfactor.blogspot.com/">bayesfactor</a>, y un larguísimo etc. Puedes llevar tus visualizaciones y análisis a reportes automáticos en múltiples formatos (pdf, html, docx) con <a href="https://rmarkdown.rstudio.com/">Rmarkdown</a>, crear libros como este con <a href="https://bookdown.org/">bookdown</a>, páginas web con <a href="https://bookdown.org/yihui/blogdown/">blogdown</a> o <a href="https://rstudio.github.io/distill/">distill</a>, e incluso papers completamente reproducibles (preparación y análisis de datos) en formato APA con <a href="https://github.com/crsh/papaja">papaja</a>.</p>
<p><BR></p>
<div id="bienvenida-al-tidyverse" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Bienvenida al tidyverse</h3>
<div style="float:left;position: relative; margin:0px 30px 0px 0px;">
<p><img src="data/images/tidyverse-logo.png" /></p>
</div>
<p>El <a href="https://www.tidyverse.org/">tidyverse</a> es un conjunto de paquetes que nos permitirán hacer de manera (habitualmente) intuitiva muchas tareas de preparación y visualización de datos.</p>
<div id="tidyverse-vs-base-r" class="section level4" number="1.2.1.1">
<h4><span class="header-section-number">1.2.1.1</span> Tidyverse vs Base R</h4>
<p>Muchas de las funciones que existen en el Tidyverse tienen un <a href="https://tavareshugo.github.io/data_carpentry_extras/base-r_tidyverse_equivalents/base-r_tidyverse_equivalents.html">equivalente en base-R</a> (la instalación por defecto de R). El Tidyverse tiene ventajas y desventajas. La ventaja fundamental es que el código resulta (habitualmente) más fácil de leer, los nombres de las funciones son mas intuitivos, y las maneras de hacer las cosas tienen a ser consistentes. La desventaja fundamental es que <a href="http://www.tinyverse.org/">incrementamos el numero de dependencias</a> (paquetes) de nuestro código.</p>
<p>Veamos un ejemplo extraído de <a href="https://tavareshugo.github.io/data_carpentry_extras/base-r_tidyverse_equivalents/base-r_tidyverse_equivalents.html">aqui</a>. La misma operación con base-R o con tidyverse:</p>
<p><em>Filter rows with conditions evaluated within groups: iris flowers with maximum “Petal.Width” for each “Species”</em></p>
<p><strong>Tidyverse</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb12-1" aria-hidden="true" tabindex="-1"></a>  iris <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Petal.Width <span class="sc">==</span> <span class="fu">max</span>(Petal.Width))</span></code></pre></div>
<p><strong>Base-R</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># First operate in the data.frame by group (split-apply)</span></span>
<span id="cb13-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  widest_petals <span class="ot">&lt;-</span> <span class="fu">by</span>(iris, </span>
<span id="cb13-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">INDICES =</span> iris<span class="sc">$</span>Species, </span>
<span id="cb13-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">FUN =</span> <span class="cf">function</span>(x){</span>
<span id="cb13-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-5" aria-hidden="true" tabindex="-1"></a>                        x[x<span class="sc">$</span>Petal.Width <span class="sc">==</span> <span class="fu">max</span>(x<span class="sc">$</span>Petal.Width), ] </span>
<span id="cb13-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-6" aria-hidden="true" tabindex="-1"></a>                      })</span>
<span id="cb13-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Then combine the results into a data.frame</span></span>
<span id="cb13-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do.call</span>(rbind, widest_petals)</span></code></pre></div>
<pre class="bg-output"><code>##               Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## setosa                 5.0         3.5          1.6         0.6     setosa
## versicolor             5.9         3.2          4.8         1.8 versicolor
## virginica.101          6.3         3.3          6.0         2.5  virginica
## virginica.110          7.2         3.6          6.1         2.5  virginica
## virginica.145          6.7         3.3          5.7         2.5  virginica</code></pre>
</div>
</div>
<div id="antes-de-empezar" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Antes de empezar</h3>
<p>Programar es muy difícil. Todos necesitamos ayuda. Contar con una comunidad robusta con la que compartir, preguntar, contribuir, ayuda muchísimo.</p>
<div class="figure">
<img src="data/images/dunning-kruger.jpg" alt="" />
<p class="caption">SOURCE: <a href="http://www.keywordbasket.com/ZWZlY3RvIGR1bm5pbmcta3J1Z2Vy/" class="uri">http://www.keywordbasket.com/ZWZlY3RvIGR1bm5pbmcta3J1Z2Vy/</a></p>
</div>
<p><BR></p>
<p>Hay algunos recursos que son <strong>imprescindibles</strong>. Nadie sabe como <em>los antiguos</em> podían programar antes de la llegada de Stackoverflow:</p>
<ul>
<li><p><a href="https://stackoverflow.com/questions/tagged/r"><strong>Stack overflow</strong></a></p></li>
<li><p><a href="https://www.google.com/">Google</a>: text size ggplot</p></li>
</ul>
<p>Y otros recursos que resultan muy útiles:</p>
<ul>
<li><p><a href="https://community.rstudio.com/">Comunidad de usuarios de Rstudio</a></p></li>
<li><p><a href="https://twitter.com/home">Twiter!</a> Por ejemplo:</p>
<ul>
<li><a href="https://twitter.com/thomas_mock"><img src="data/images/twitter_small.png" /> @thomas_mock</a> (#TidyTuesday)<br />
</li>
<li><a href="https://twitter.com/dataandme"><img src="data/images/twitter_small.png" /> @dataandme</a><br />
</li>
<li><a href="https://twitter.com/rivaquiroga"><img src="data/images/twitter_small.png" /> @rivaquiroga</a><br />
</li>
<li><a href="https://twitter.com/RLadiesSantiago"><img src="data/images/twitter_small.png" /> @RLadiesSantiago</a></li>
</ul></li>
<li><p>Webs como <a href="https://www.r-bloggers.com/">R bloggers</a></p></li>
</ul>
</div>
<div id="r-para-visualización-de-datos" class="section level3" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> R para visualización de datos</h3>
<p><a href="https://ggplot2.tidyverse.org/">ggplot2</a> es el paquete por excelencia para visualización de datos. Su potencia va asociada a un nivel de complejidad considerable, hasta el punto que hay <a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf">Cheat sheets oficiales</a>, <a href="https://www.computerworld.com/article/2935394/my-ggplot2-cheat-sheet-search-by-task.html">Cheat sheets buscables</a>, y decenas de miles de preguntas en <a href="https://stackoverflow.com/questions/tagged/ggplot2">Stack Overflow</a>.</p>
<div id="primeros-pasos---con-training-wheels" class="section level4" number="1.2.3.1">
<h4><span class="header-section-number">1.2.3.1</span> Primeros pasos - con training wheels</h4>
<p>Para empezar a usar ggplot sin tener que preocuparnos de su complejidad, podemos usar la función <code>esquisse:::esquisser()</code> del paquete <a href="https://github.com/dreamRs/esquisse">esquisse</a>. Esta nos permite usar la potencia de ggplot para explorar una base de datos de manera muy sencilla.</p>
<div class="figure">
<img src="data/images/esquisse.gif" alt="" />
<p class="caption">SOURCE: <a href="https://www.williamrchase.com/slides/intro_r_anthropology_2018#93" class="uri">https://www.williamrchase.com/slides/intro_r_anthropology_2018#93</a></p>
</div>
<!-- (https://www.williamrchase.com/slides/slide_img/esquisse.gif)   -->
<p><BR></p>
<p>La manera fácil (1, 2, 3), usando <a href="https://github.com/dreamRs/esquisse">esquisse</a>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Asegúrate que hemos instalado el paquete esquisse</span></span>
<span id="cb15-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;esquisse&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;esquisse&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;esquisse&#39;</span>)</span>
<span id="cb15-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Carga el dataframe que desees. En este caso, &quot;iris&quot;</span></span>
<span id="cb15-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data</span>(iris)</span>
<span id="cb15-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Lanza el wizard esquisser</span></span>
<span id="cb15-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  esquisse<span class="sc">:::</span><span class="fu">esquisser</span>()</span></code></pre></div>
</div>
<div id="aprendamos-con-garrick" class="section level4" number="1.2.3.2">
<h4><span class="header-section-number">1.2.3.2</span> Aprendamos con Garrick</h4>
<p><a href="https://www.garrickadenbuie.com/">Garrick Aden-Buie</a> (<a href="https://twitter.com/grrrck"><img src="data/images/twitter_small.png" /> @grrrck</a>) ha creado una excelente <a href="https://pkg.garrickadenbuie.com/gentle-ggplot2/#28">introducción a ggplot2 y la gramática de gráficos</a>. Os recomiendo revisarla para familiarizaros con las funcionalidades de ggplot.<br />
<!-- https://github.com/gadenbuie/gentle-ggplot2  --></p>
<p><strong>Antes</strong> de empezar, asegúrate que tienes instalados los paquetes <code>tidyverse</code> y <code>gapminder</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb16-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;gapminder&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;gapminder&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;gapminder&#39;</span>)  </span>
<span id="cb16-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb16-4" aria-hidden="true" tabindex="-1"></a>gapminder</span></code></pre></div>
<pre class="bg-output"><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # … with 1,694 more rows</code></pre>
</div>
</div>
</div>
<div id="visualización-de-datos-con-ggplot2" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Visualización de datos con ggplot2</h2>
<div id="primeros-pasos" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Primeros pasos</h3>
<p>En esta sección vamos a ver algunos de los componentes que usaremos cuando visualicemos datos. Muchos de los ejemplos que usaremos vienen de <a href="https://r4ds.had.co.nz/data-visualisation.html">R for data science</a>.</p>
<p>Los ingredientes esenciales de una gráfica son:</p>
<div id="section" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<ul>
<li><strong>Aesthetic mappings</strong> (aes): Variables, colores, rellenos, formas, …</li>
<li><strong>Geoms</strong> (geom_): puntos, líneas, boxplots, …</li>
<li><strong>Facets</strong> (facet_): facet_wrap() y facet_grid()</li>
<li><strong>Transformaciones estadísticas</strong>: stat_summary, ..prop.., …</li>
</ul>
<div class="figure">
<img src="data/images/visualization-layers-of-ggplot.png" alt="" />
<p class="caption">SOURCE: <a href="https://skillgaze.com/2017/10/31/understanding-different-visualization-layers-of-ggplot/" class="uri">https://skillgaze.com/2017/10/31/understanding-different-visualization-layers-of-ggplot/</a></p>
</div>
</div>
</div>
<div id="aesthetic-mappings" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Aesthetic mappings</h3>
<p>En <strong>aes()</strong> vamos a indicar las variables que queremos en los ejes x e y, el color de los puntos o líneas, el relleno de las barras, la forma de los puntos, el tipo de linea, la agrupación de los datos, etc.</p>
<div id="section-1" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<ul>
<li><strong>x</strong>: x = gdpPercap</li>
<li><strong>y</strong>: y = lifeExp</li>
<li><strong>color</strong>: color = continent; color = “red”; color = “#FAA627”</li>
<li><strong>fill</strong>: fill = continent; fill = “red”; fill = “#FAA627”</li>
<li><strong>alpha</strong>: alpha = continent; alpha = 0.2</li>
<li><strong>size</strong>: size = continent; size = 5</li>
<li><strong>shape</strong>: shape = continent; shape = 0 <a href="https://r4ds.had.co.nz/data-visualisation.html#fig:shapes">ver codigo de las distintas formas</a></li>
<li><strong>linetype</strong>: linetype = continent; linetype = “dashed”</li>
<li><strong>group</strong>: group = continent</li>
</ul>
</div>
<div id="x-y" class="section level4" number="1.3.2.1">
<h4><span class="header-section-number">1.3.2.1</span> x-y</h4>
<p>Usando los datos de gapminder, visualizamos la relación entre gdpPercap (eje x), y lifeExp (eje y).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb18-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb18-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gdpPercap, <span class="at">y =</span> lifeExp)) <span class="sc">+</span> </span>
<span id="cb18-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/aes-1.png" width="1152" /></p>
<p>Si respetamos el orden, podemos simplificar nuestro código, evitando el <code>data =</code> y <code>mapping =</code>. En este caso, vemos de nuevo lifeExp y gdpPercap, invirtiendo los ejes.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, gdpPercap)) <span class="sc">+</span> </span>
<span id="cb19-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/aes2-1.png" width="1152" /></p>
</div>
<div id="ejercicio" class="section level4 ejercicio unnumbered">
<h4>Ejercicio</h4>
<p>Usando <code>gapminder</code>, ¿podrías crear un gráfico de gdp per cápita por población como éste?</p>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_xy-1.png" width="1152" /></p>
</div>
<div id="color-alpha-size" class="section level4" number="1.3.2.2">
<h4><span class="header-section-number">1.3.2.2</span> Color, alpha, size</h4>
<ul>
<li><p>Para elegir paletas de colores: <a href="http://colorbrewer2.org">colorbrewer</a></p></li>
<li><p><a href="https://www.rapidtables.com/web/color/RGB_Color.html#color-picker">Codigo HEX de colores</a></p></li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb20-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico inicial</span></span>
<span id="cb20-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb20-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-1.png" width="1152" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color &quot;rojo&quot; para los puntos</span></span>
<span id="cb21-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb21-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-2.png" width="1152" /></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb22-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color en función de la variable &#39;continent&#39;</span></span>
<span id="cb22-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb22-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-3.png" width="1152" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb23-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color en función de la variable &#39;continent&#39; + size</span></span>
<span id="cb23-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> <span class="dv">2</span>)) <span class="sc">+</span> </span>
<span id="cb23-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-4.png" width="1152" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb24-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color en función de la variable &#39;continent&#39; + size + alpha</span></span>
<span id="cb24-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb24-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-5.png" width="1152" /></p>
<p>Imagina que queremos asignar colores manualmente.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb25-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb25-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;grey&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;black&quot;</span>)) </span>
<span id="cb25-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Error: Aesthetics must be either length 1 or the same as the data (1704): colour</span></span></code></pre></div>
<p>Tenemos que indicar que el color depende de <code>continent</code>, y después usar <code>scale_color_manual()</code></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb26-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb26-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;grey&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;black&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/color-01b-1.png" width="1152" /></p>
</div>
<div id="ejercicios" class="section level4 ejercicio unnumbered">
<h4>Ejercicios</h4>
<p>Usando como base el plot del ejercicio anterior (GDP x población), ¿podrías hacer lo siguiente?</p>
<ul>
<li>Colorear los puntos por continente</li>
<li>Tamaño del punto 4</li>
<li>Alpha 0.5</li>
</ul>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_point1-1.png" width="1152" /></p>
<p>Cada uno de los siguientes gráficos tiene un error. ¿Sabrias corregirlos?</p>
<details>
<summary>
Solucion: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;">color = continent debe ir dentro de aes()</span>
</details>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, pop), <span class="at">color =</span> continent) <span class="sc">+</span> </span>
<span id="cb27-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> .<span class="dv">5</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_point2-1.png" width="1152" /></p>
<details>
<summary>
Solución: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;">color = “blue” debe ir fuera de aes()</span>
</details>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, pop, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb28-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> .<span class="dv">5</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_point3-1.png" width="1152" /></p>
<p><BR></p>
<p>Alguna de estas gráficas dará un error? Sin correr el código, sabrías decir cuál de ellas? Hay varias soluciones posibles, ¿Cuales serían?.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(displ, hwy, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb29-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb29-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb29-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(displ, hwy, <span class="at">color =</span> class, <span class="at">linetype =</span> class)) <span class="sc">+</span></span>
<span id="cb29-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>)</span>
<span id="cb29-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(displ, hwy, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb29-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb29-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="at">linetype =</span> class)</span></code></pre></div>
<p><BR></p>
</div>
<div id="shape" class="section level4" number="1.3.2.3">
<h4><span class="header-section-number">1.3.2.3</span> Shape</h4>
<p><strong>Códigos para las distintas formas</strong>:</p>
<div id="section-2" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<div class="figure">
<img src="data/images/shapes-1.png" alt="" />
<p class="caption">SOURCE: <a href="https://r4ds.had.co.nz/data-visualisation.html#aesthetic-mappings" class="uri">https://r4ds.had.co.nz/data-visualisation.html#aesthetic-mappings</a></p>
</div>
</div>
<div id="section-3" class="section level6 unnumbered">
<h6 class="unnumbered"></h6>
<p>En este ejemplo usamos la variable <code>continent</code> para que cada asignar una forma diferente a cada uno de los continentes.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb30-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">shape =</span> continent)) <span class="sc">+</span> </span>
<span id="cb30-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/shape-1.png" width="1152" /></p>
</div>
</div>
<div id="linetype" class="section level4" number="1.3.2.4">
<h4><span class="header-section-number">1.3.2.4</span> Linetype</h4>
<p><strong>Códigos para los distintos estilos de linea</strong>:</p>
<div id="section-4" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<div class="figure">
<img src="data/images/ggplot2-linetype-identity.png" alt="" />
<p class="caption">SOURCE: <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/linetype" class="uri">http://sape.inf.usi.ch/quick-reference/ggplot2/linetype</a></p>
</div>
</div>
<div id="section-5" class="section level6 unnumbered">
<h6 class="unnumbered"></h6>
<p><BR>
Podemos definir directamente el tipo de línea que queremos en <code>geom_line()</code>:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb31-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(year, lifeExp, <span class="at">color =</span> country, <span class="at">group =</span> country)) <span class="sc">+</span> </span>
<span id="cb31-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/linetype-1-1.png" width="1152" /></p>
<p>O que el tipo de línea dependa de una variable:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb32-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(year, lifeExp, <span class="at">linetype =</span> continent, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb32-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>) </span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/linetype-2-1.png" width="1152" /></p>
</div>
</div>
</div>
<div id="geoms" class="section level3" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> Geoms</h3>
<p>Una de las cosas más difíciles cuando nos enfrentamos a nuevos datos es elegir el método más efectivo para visualizarlos. Hay varios recursos interesantes sobre <a href="https://github.com/widged/data-for-good/wiki/Visualisation-::-Choosing-a-chart">cómo elegir una gráfica</a>. En esta sección veremos distintos tipos de geometría, o <code>geoms_()</code>.</p>
<p>En ggplot, después de indicar los datos y coordenadas (e.g. <code>ggplot(mpg, aes(displ, hwy))</code>), podemos sumar uno o varios <code>geoms</code> con una lógica de capas superpuestas, por ejemplo, <code>+ geom_point()</code>.</p>
<hr />
<p><strong>Algunos tipos de geoms</strong></p>
<p>Para una lista exhaustiva ver el <a href="https://ggplot2.tidyverse.org/reference/">manual de ggplot2</a>.</p>
<div id="section-6" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<div class="figure">
<img src="data/images/geoms.png" alt="" />
<p class="caption">SOURCE: <a href="https://nbisweden.github.io/RaukR-2019/ggplot/presentation/ggplot_presentation_assets/geoms.png" class="uri">https://nbisweden.github.io/RaukR-2019/ggplot/presentation/ggplot_presentation_assets/geoms.png</a></p>
</div>
<!-- `geom_abline()`, `geom_area()`, `geom_bar()`, `geom_bin2d()`, `geom_blank()`, `geom_boxplot()`, `geom_col()`, `geom_contour()`, `geom_contour_filled()`, `geom_count()`, `geom_crossbar()`, `geom_curve()`, `geom_density()`, `geom_density2d()`, `geom_density2d_filled()`, `geom_density_2d()`, `geom_density_2d_filled()`, `geom_dotplot()`, `geom_errorbar()`, `geom_errorbarh()`, `geom_freqpoly()`, `geom_function()`, `geom_hex()`, `geom_histogram()`, `geom_hline()`, `geom_jitter()`, `geom_label()`, `geom_line()`, `geom_linerange()`, `geom_map()`, `geom_path()`, `geom_point()`, `geom_pointrange()`, `geom_polygon()`, `geom_qq()`, `geom_qq_line()`, `geom_quantile()`, `geom_raster()`, `geom_rect()`, `geom_ribbon()`, `geom_rug()`, `geom_segment()`, `geom_sf()`, `geom_sf_label()`, `geom_sf_text()`, `geom_smooth()`, `geom_spoke()`, `geom_step()`, `geom_text()`, `geom_tile()`, `geom_violin()`, `geom_vline()`   -->
<p><BR></p>
</div>
<div id="geom_point-y-geom_jitter" class="section level4" number="1.3.3.1">
<h4><span class="header-section-number">1.3.3.1</span> geom_point y geom_jitter</h4>
<p>Si queremos un gráfico de dispersión o scatterplot, podemos usar el <code>geom_point()</code></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb33-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span> </span>
<span id="cb33-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-point-1.png" width="1152" /></p>
<p>En algunos casos, tenemos muchos puntos que se superponen. Si usamos <code>geom_jitter()</code> la posición de los puntos cambia levemente de manera aleatoria para evitar superposiciones. Con las propiedades ´width´ y ´height´ podemos controlar cuando desplazamiento queremos horizontal y verticalmente.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb34-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span> </span>
<span id="cb34-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-jitter-1.png" width="1152" /></p>
</div>
<div id="geom_smooth" class="section level4" number="1.3.3.2">
<h4><span class="header-section-number">1.3.3.2</span> geom_smooth</h4>
<p>Podemos usar líneas de tendencia con <code>geom_smooth()</code>. El <code>method</code> por defecto es <a href="https://en.wikipedia.org/wiki/Local_regression">loess</a>, pero podemos usar otras funciones (e.g. <code>geom_smooth(method = "lm")</code> para usar una regresión lineal).</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb35-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Linea de tendencia (default loess)</span></span>
<span id="cb35-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb35-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb35-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-smooth-1.png" width="1152" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb36-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Usamos lm</span></span>
<span id="cb36-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb36-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-smooth-2.png" width="1152" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb37-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Un smooth por cada clase</span></span>
<span id="cb37-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb37-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb37-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-smooth-3.png" width="1152" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb38-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Coloreamos puntos pero mantenemos un solo smooth</span></span>
<span id="cb38-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span> </span>
<span id="cb38-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb38-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-smooth-4.png" width="1152" /></p>
</div>
<div id="ejercicios-1" class="section level4 ejercicio unnumbered">
<h4>Ejercicios</h4>
<p>Usando como base el plot de la sección <a href="introducción-a-r-y-visualización-de-datos.html#shape">Shape</a>:</p>
<ul>
<li>Colorear los puntos por continente</li>
<li>Mostrar una línea de tendencia por continente (sin el intervalo de confianza)</li>
<li>Que el tipo de línea cambie por continente</li>
<li>Añadir transparencia para que las líneas destaquen</li>
</ul>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_smooth-1.png" width="1152" /></p>
<p>Usando el df <code>mpg</code>, intenta crear los 6 plots que se pueden ver más abajo.</p>
<p>Aquí tienes el plot base, para hacer mas fácil la tarea:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span> </span>
<span id="cb39-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb39-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grey</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-ejercicios-0-1.png" width="576" /></p>
<p>Además de generar uno a uno los 6 plots, serías capaz de generar la figura que se ve abajo? Esto es, un plot que incluye los 6 plots juntos.</p>
<details>
<summary>
Solucion: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;">En la sección <a href="introducción-a-r-y-visualización-de-datos.html#combinando-graficas">Combinando gráficas</a> veras un ejemplo del uso de la función cowplot::plot_grid()</span>
</details>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-ejercicios-1.png" width="1152" /></p>
<p><BR></p>
</div>
<div id="geom_boxplot-y-geom_violin" class="section level4" number="1.3.3.3">
<h4><span class="header-section-number">1.3.3.3</span> geom_boxplot y geom_violin</h4>
<p>Podemos crear diagramas de cajas (boxplots) con <code>geom_boxplot</code> o violines con <code>geom_violin</code> para visualizar como cambian los datos por grupo.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb40-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Boxplot con fill</span></span>
<span id="cb40-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb40-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-boxplot-violin-1.png" width="1152" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb41-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Violins  </span></span>
<span id="cb41-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb41-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-boxplot-violin-2.png" width="1152" /></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb42-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combinamos ambos  </span></span>
<span id="cb42-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp)) <span class="sc">+</span> </span>
<span id="cb42-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="fu">aes</span>(<span class="at">fill =</span> continent))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-boxplot-violin-3.png" width="1152" /></p>
</div>
<div id="histogramas" class="section level4" number="1.3.3.4">
<h4><span class="header-section-number">1.3.3.4</span> geom_histogram y geom_bar</h4>
<p>Podemos usar histogramas <code>geom_histogram()</code> con variables continuas.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb43-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp)) <span class="sc">+</span> </span>
<span id="cb43-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-histogram-1.png" width="1152" /></p>
<p>O si tenemos variables categóricas, <code>geom_bar()</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb44-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb44-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">alpha =</span> .<span class="dv">6</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-bar-1.png" width="1152" /></p>
</div>
<div id="geom_density" class="section level4" number="1.3.3.5">
<h4><span class="header-section-number">1.3.3.5</span> geom_density</h4>
<p>Para visualizar distribuciones (cuando tenemos muchos datos), podemos usar <code>geom_density()</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb45-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Density with fill and alpha</span></span>
<span id="cb45-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb45-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb45-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-density-1.png" width="1152" /></p>
</div>
<div id="ejercicio-1" class="section level4 ejercicio unnumbered">
<h4>Ejercicio</h4>
<p>Añadiendo un parámetro a la gráfica de arriba, podemos transformarla en las versiones de abajo. ¿Podrías hacerlo? (recuerda que poníendote encima de <code>geom_density()</code> y tecleando <code>F1</code> puedes ver la ayuda de la función).</p>
<details>
<summary>
Solucion: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;"><code>position = "stack"</code> y <code>position = "fill"</code>.</span>
</details>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-density-1.png" width="1152" /><img src="bookdown-workshop-R_files/figure-html/ejercicio-density-2.png" width="1152" /></p>
</div>
<div id="geom_density_ridges" class="section level4" number="1.3.3.6">
<h4><span class="header-section-number">1.3.3.6</span> geom_density_ridges</h4>
<p>Uno de mis geoms favoritos para comparar distribuciones es <code>geom_density_ridges</code>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_density_ridges</span></span>
<span id="cb46-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, continent, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb46-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb46-3" aria-hidden="true" tabindex="-1"></a>    ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-density_ridges-1.png" width="1152" /></p>
<p>Especialmente porque podemos incluir en el mismo gráfico información sobre distribuciones y puntos individuales.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_density_ridges junto con raincloud points y histograma</span></span>
<span id="cb47-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, continent, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb47-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb47-3" aria-hidden="true" tabindex="-1"></a>     ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(<span class="at">stat =</span> <span class="st">&quot;binline&quot;</span>, <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">scale =</span> <span class="fl">0.95</span>, <span class="at">draw_baseline =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb47-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb47-4" aria-hidden="true" tabindex="-1"></a>     ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(<span class="at">jittered_points =</span> <span class="cn">TRUE</span>, <span class="at">position =</span> <span class="st">&quot;raincloud&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">scale =</span> <span class="fl">0.9</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/geom-density_ridges2-1.png" width="1152" /></p>
</div>
<div id="ejercicios-2" class="section level4 ejercicio unnumbered">
<h4>Ejercicios</h4>
<p>Usando como base el plot de la seccion <a href="introducción-a-r-y-visualización-de-datos.html#histogramas">geom_histogram()</a>:</p>
<ul>
<li>Colorea los puntos por continente</li>
<li>Sabrias hacer que no se amontonen unos continentes sobre otros? Necesitarás añadir transparencia para ver todos los datos
<details>
<summary>
Solucion: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;"><code>geom_histogram(position = "identity", alpha = .3)</code>.</span>
</details></li>
</ul>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio_histogram-1.png" width="1152" /><img src="bookdown-workshop-R_files/figure-html/ejercicio_histogram-2.png" width="1152" /></p>
Con el DF <code>diamonds</code>, crea el siguiente plot:<br />

<details>
<summary>
Solución: <img src="data/images/hint.png" />
</summary>
<span style="color: orange;">Tienes que usar el <code>geom_bar()</code> y el parámetro <code>fill</code>.</span>
</details>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-ejercicios-02-1.png" width="1152" /></p>
<p><BR></p>
</div>
</div>
<div id="facets" class="section level3" number="1.3.4">
<h3><span class="header-section-number">1.3.4</span> Facets</h3>
<p>Cuando queremos separar en gráficos independientes distintas categorías dentro de nuestros datos, podemos usar facetas. Hay dos funciones para esto, <strong>facet_grid</strong> y <strong>facet_wrap</strong>.</p>
<div id="facet_grid" class="section level4" number="1.3.4.1">
<h4><span class="header-section-number">1.3.4.1</span> facet_grid</h4>
<p><code>facet_grid(~ variable)</code> nos devuelve una matriz simétrica de gráficas.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb48-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot inicial</span></span>
<span id="cb48-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb48-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb48-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="sc">~</span> continent) <span class="sc">+</span></span>
<span id="cb48-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/facet_grid-1.png" width="1152" /></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb49-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cambiamos ejes</span></span>
<span id="cb49-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb49-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(continent <span class="sc">~</span> .) <span class="sc">+</span></span>
<span id="cb49-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/facet_grid-2.png" width="1152" /></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb50-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Añadimos una segunda variable</span></span>
<span id="cb50-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb50-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb50-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(continent <span class="sc">~</span> pop <span class="sc">&gt;</span> <span class="dv">5000000</span>) <span class="sc">+</span></span>
<span id="cb50-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/facet_grid-3.png" width="1152" /></p>
</div>
<div id="facet_wrap" class="section level4" number="1.3.4.2">
<h4><span class="header-section-number">1.3.4.2</span> facet_wrap</h4>
<p><code>facet_wrap(~ variable)</code> nos devuelve tantas facetas como niveles de la variable, pudiendo definir el número de filas y columnas que queremos.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot base</span></span>
<span id="cb51-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb51-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb51-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>( <span class="sc">~</span> continent) <span class="sc">+</span></span>
<span id="cb51-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/facet_wrap-1.png" width="1152" /></p>
<p>Con la función <code>gghighlight()</code> podemos añadir una capa para facilitar la comparación de cada faceta con los datos completos.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb52-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb52-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>( <span class="sc">~</span> continent, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb52-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb52-5" aria-hidden="true" tabindex="-1"></a>    gghighlight<span class="sc">::</span><span class="fu">gghighlight</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/facet_wrap2-1.png" width="1152" /></p>
</div>
</div>
<div id="transformaciones-estadísticas" class="section level3" number="1.3.5">
<h3><span class="header-section-number">1.3.5</span> Transformaciones estadísticas</h3>
<p>ggplot2 nos permite hacer algunas transformaciones estadísticas al crear los gráficos. Para más detalles, ver <a href="https://r4ds.had.co.nz/data-visualisation.html#statistical-transformations">r4ds</a>.</p>
<div id="stat_summary" class="section level4" number="1.3.5.1">
<h4><span class="header-section-number">1.3.5.1</span> stat_summary</h4>
<p><strong>Algunas funciones que podemos usar en los gráficos</strong></p>
<div id="section-7" class="section level6 parameters unnumbered">
<h6 class="parameters unnumbered"></h6>
<ul>
<li><strong>min()</strong>: mínimo</li>
<li><strong>max()</strong>: máximo</li>
<li><strong>mean()</strong>: media</li>
<li><strong>median()</strong>: mediana</li>
<li><strong>sd()</strong>: desviación estandar</li>
</ul>
</div>
<div id="section-8" class="section level6 unnumbered">
<h6 class="unnumbered"></h6>
<p>Podemos usar funciones simples de manera directa. En este caso, mostramos un punto con la mediana, y barras que muestran el rango completo de los datos:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb53-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp)) <span class="sc">+</span> </span>
<span id="cb53-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(</span>
<span id="cb53-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb53-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun.ymin =</span> min,</span>
<span id="cb53-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb53-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun.ymax =</span> max,</span>
<span id="cb53-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb53-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun =</span> median)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/transformaciones-estadisticas-stat_summary-1-1.png" width="1152" /></p>
<p>Si queremos usar funciones algo mas complejas, la sintaxis es algo diferente. En este caso mostramos media ± desviación estandar:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb54-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stat_summary</span>(</span>
<span id="cb54-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb54-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun.ymin =</span> <span class="cf">function</span>(x) <span class="fu">mean</span>(x) <span class="sc">-</span> <span class="fu">sd</span>(x),</span>
<span id="cb54-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb54-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun.ymax =</span> <span class="cf">function</span>(x) <span class="fu">mean</span>(x) <span class="sc">+</span> <span class="fu">sd</span>(x),</span>
<span id="cb54-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb54-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">fun =</span> mean)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/transformaciones-estadisticas-stat_summary-2-1.png" width="1152" /></p>
</div>
</div>
<div id="promedios-por-grupo" class="section level4" number="1.3.5.2">
<h4><span class="header-section-number">1.3.5.2</span> Promedios por grupo</h4>
<p>Lo interesante es que podemos añadir estas transformaciones estadísticas como una capa más en los gráficos. Así que, a este gráfico inicial…</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb55-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy), <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb55-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/transformaciones-estadisticas-promedios-grupo-1-1.png" width="1152" /></p>
<p>Le podemos añadir el promedio por grupo:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span> </span>
<span id="cb56-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy), <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb56-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">x =</span> class, <span class="at">y =</span> hwy), <span class="at">fun =</span> mean, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="sc">+</span> </span>
<span id="cb56-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/transformaciones-estadisticas-promedios-grupo-2-1.png" width="1152" /></p>
<p>O cosas aún más elaboradas:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gapminder</span></span>
<span id="cb57-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb57-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb57-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">data =</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb57-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-5" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb57-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-6" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">summarise</span>(<span class="at">gdpPercap =</span> <span class="fu">mean</span>(gdpPercap),</span>
<span id="cb57-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">lifeExp  =</span> <span class="fu">mean</span>(lifeExp)),</span>
<span id="cb57-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun =</span> mean,</span>
<span id="cb57-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">geom =</span> <span class="st">&quot;point&quot;</span>,</span>
<span id="cb57-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb57-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">size =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/transformaciones-estadisticas-promedios-grupo-02-1.png" width="1152" /></p>
</div>
<div id="ejercicios-3" class="section level4 ejercicio unnumbered">
<h4>Ejercicios</h4>
<p>Cuando al plot <strong>A</strong> trato de añadirle líneas para cada <code>class</code>, me aparece algo como lo de <strong>B</strong>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-1" aria-hidden="true" tabindex="-1"></a>plotA <span class="ot">=</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb58-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-5" aria-hidden="true" tabindex="-1"></a>plotB <span class="ot">=</span> <span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb58-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb58-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span>
<span id="cb58-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb58-10" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(plotA, plotB, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-7a-1.png" width="1152" /></p>
<p>Pero en realidad no quiero que las líneas pasen por todos los puntos, sino que muestren el promedio ¿Podrías reproducir el gráfico de abajo?</p>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-7b-1.png" width="1152" /></p>
<p>Podrías crear este gráfico? Mostramos mediana ± sd para cada país, organizado por continente.</p>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-8-1.png" width="1152" />
<BR></p>
</div>
</div>
<div id="personalización-de-gráficas" class="section level3" number="1.3.6">
<h3><span class="header-section-number">1.3.6</span> Personalización de gráficas</h3>
<p>Habitualmente, un vez hemos creado la gráfica, querremos personalizar varias cosas, como las escalas, colores, estilos, título, etc.</p>
<div id="coordenadas" class="section level4" number="1.3.6.1">
<h4><span class="header-section-number">1.3.6.1</span> Coordenadas</h4>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb59-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gráfico inicial</span></span>
<span id="cb59-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb59-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-coord-1.png" width="1152" /></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb60-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># coord_flip()</span></span>
<span id="cb60-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent)) <span class="sc">+</span></span>
<span id="cb60-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb60-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-coord-2.png" width="1152" /></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb61-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># coord_polar()</span></span>
<span id="cb61-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent)) <span class="sc">+</span></span>
<span id="cb61-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb61-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb61-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-coord-3.png" width="1152" /></p>
</div>
<div id="scales" class="section level4" number="1.3.6.2">
<h4><span class="header-section-number">1.3.6.2</span> Scales</h4>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb62-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Grafico inicial</span></span>
<span id="cb62-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb62-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) </span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-1.png" width="1152" /></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb63-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Añadimos breaks en eje y</span></span>
<span id="cb63-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb63-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb63-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-2.png" width="1152" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb64-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Definimos cuantos breaks queremos</span></span>
<span id="cb64-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb64-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb64-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">n.breaks =</span> <span class="dv">20</span>, <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb64-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">n.breaks =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-3.png" width="1152" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb65-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Separador de miles y breaks en x</span></span>
<span id="cb65-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb65-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb65-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb65-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>comma, <span class="at">n.breaks =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-4.png" width="1152" /></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Formato de $ ($M)</span></span>
<span id="cb66-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb66-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb66-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb66-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">&quot;$&quot;</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>),</span>
<span id="cb66-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb66-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100000</span>, <span class="dv">20000</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-5.png" width="1152" /></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb67-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Escala log</span></span>
<span id="cb67-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb67-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb67-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb67-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">&quot;$&quot;</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-6.png" width="1152" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb68-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Invertimos escala</span></span>
<span id="cb68-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb68-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb68-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_reverse</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-7.png" width="1152" /></p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb69-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># No mostramos el texto de los breaks de x</span></span>
<span id="cb69-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb69-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb69-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_reverse</span>() <span class="sc">+</span></span>
<span id="cb69-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-8.png" width="1152" /></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb70-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Porcentaje</span></span>
<span id="cb70-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, ..prop.., <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb70-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb70-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-axis-9.png" width="1152" /></p>
<p>Usar eje secundario (derecho) para mostrar etiquetas:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-1" aria-hidden="true" tabindex="-1"></a>gapminder_last <span class="ot">=</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="fu">max</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">lifeExp =</span> <span class="fu">mean</span>(lifeExp))</span>
<span id="cb71-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(year, lifeExp, <span class="at">linetype =</span> continent, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb71-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">&quot;line&quot;</span>) <span class="sc">+</span></span>
<span id="cb71-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb71-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(gapminder<span class="sc">$</span>lifeExp)),</span>
<span id="cb71-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb71-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb71-12"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> gapminder_last<span class="sc">$</span>lifeExp,</span>
<span id="cb71-13"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> gapminder_last<span class="sc">$</span>continent,</span>
<span id="cb71-14"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>)) <span class="sc">+</span></span>
<span id="cb71-15"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb71-16"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb71-17"><a href="introducción-a-r-y-visualización-de-datos.html#cb71-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">linetype =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/advanced-scales-1.png" width="1152" /></p>
</div>
<div id="ejercicio-2" class="section level4 ejercicio unnumbered">
<h4>Ejercicio</h4>
<p>El plot del panel (A) tiene varios problemas (los años no son enteros o factores, los casos no se muestran con un separador de miles, la leyenda esta a la derecha ocupado un espacio precioso, etc.). Trata de resolverlos e intenta llegar al resultado que se ve en el panel (B). Usa el dataframe <code>table1</code> del paquete {tidyr}?</p>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-ejercicios-03-1.png" width="768" /></p>
<p>Si te sobra tiempo, puedes tratar de reproducir la siguiente versión mejorada…</p>
<p><img src="bookdown-workshop-R_files/figure-html/geoms-ejercicios-extra,-1.png" width="768" /></p>
</div>
<div id="colors-and-fill-scales" class="section level4" number="1.3.6.3">
<h4><span class="header-section-number">1.3.6.3</span> Colors and fill scales</h4>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb72-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot inicial</span></span>
<span id="cb72-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb72-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-color-fill-1.png" width="1152" /></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb73-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Relleno usando paleta blues</span></span>
<span id="cb73-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb73-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb73-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb73-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Blues&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-color-fill-2.png" width="1152" /></p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb74-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color grey</span></span>
<span id="cb74-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Petal.Width, Petal.Length, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb74-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb74-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>(<span class="at">start =</span> <span class="fl">0.2</span>, <span class="at">end =</span> <span class="fl">0.8</span>, <span class="at">na.value =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-color-fill-3.png" width="1152" /></p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb75-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gradient</span></span>
<span id="cb75-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Petal.Width, Petal.Length, <span class="at">color =</span> Petal.Width)) <span class="sc">+</span></span>
<span id="cb75-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb75-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&quot;red&quot;</span>, <span class="at">high =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-color-fill-4.png" width="1152" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb76-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gradient con un numero predefinidos de una paleta</span></span>
<span id="cb76-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Petal.Width, Petal.Length, <span class="at">color =</span> Petal.Width)) <span class="sc">+</span></span>
<span id="cb76-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb76-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_colour_gradientn</span>(<span class="at">colours =</span> <span class="fu">terrain.colors</span>(<span class="dv">3</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-color-fill-5.png" width="1152" /></p>
</div>
<div id="combinando-graficas" class="section level4" number="1.3.6.4">
<h4><span class="header-section-number">1.3.6.4</span> Combinando gráficas</h4>
<p>Con {<a href="https://cran.r-project.org/web/packages/cowplot/vignettes/introduction.html#:~:text=The%20cowplot%20package%20is%20a,or%20mix%20plots%20with%20images.">cowplot</a>} podemos combinar gráficas de manera muy simple. Otro paquete muy interesante es {<a href="https://patchwork.data-imaginist.com/">patchwork</a>}.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-1" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">=</span> <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb77-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb77-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">&quot;$&quot;</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>)) <span class="sc">+</span></span>
<span id="cb77-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span>
<span id="cb77-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-7" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">=</span> <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(continent, ..prop.., <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb77-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb77-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb77-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb77-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-12"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-12" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(plot2, plot1,</span>
<span id="cb77-13"><a href="introducción-a-r-y-visualización-de-datos.html#cb77-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">rel_widths =</span> <span class="fu">c</span>(.<span class="dv">3</span>, <span class="fl">0.7</span>))</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizando-combinando-basico-1.png" width="1152" /></p>
<p>O hacer cosas mas complejas como combinar un <a href="https://stackoverflow.com/questions/8545035/scatterplot-with-marginal-histograms-in-ggplot2/56440634#56440634">scatteplot con un par de histogramas</a>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up scatterplot</span></span>
<span id="cb78-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-2" aria-hidden="true" tabindex="-1"></a>scatterplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb78-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb78-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb78-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>())</span>
<span id="cb78-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define marginal histogram</span></span>
<span id="cb78-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-9" aria-hidden="true" tabindex="-1"></a>marginal_distribution <span class="ot">&lt;-</span> <span class="cf">function</span>(x, var, group) {</span>
<span id="cb78-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(x, <span class="fu">aes_string</span>(<span class="at">x =</span> var, <span class="at">fill =</span> group)) <span class="sc">+</span></span>
<span id="cb78-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb78-12"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># geom_density(alpha = 0.4, size = 0.1) +</span></span>
<span id="cb78-13"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb78-14"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb78-15"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>())</span>
<span id="cb78-16"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb78-17"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-18"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up marginal histograms</span></span>
<span id="cb78-19"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-19" aria-hidden="true" tabindex="-1"></a>x_hist <span class="ot">&lt;-</span> <span class="fu">marginal_distribution</span>(iris, <span class="st">&quot;Sepal.Length&quot;</span>, <span class="st">&quot;Species&quot;</span>)</span>
<span id="cb78-20"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-20" aria-hidden="true" tabindex="-1"></a>y_hist <span class="ot">&lt;-</span> <span class="fu">marginal_distribution</span>(iris, <span class="st">&quot;Sepal.Width&quot;</span>, <span class="st">&quot;Species&quot;</span>) <span class="sc">+</span></span>
<span id="cb78-21"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb78-22"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-23"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Align histograms with scatterplot</span></span>
<span id="cb78-24"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-24" aria-hidden="true" tabindex="-1"></a>aligned_x_hist <span class="ot">&lt;-</span> <span class="fu">align_plots</span>(x_hist, scatterplot, <span class="at">align =</span> <span class="st">&quot;v&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb78-25"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-25" aria-hidden="true" tabindex="-1"></a>aligned_y_hist <span class="ot">&lt;-</span> <span class="fu">align_plots</span>(y_hist, scatterplot, <span class="at">align =</span> <span class="st">&quot;h&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb78-26"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-27"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-28"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Arrange plots</span></span>
<span id="cb78-29"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-29" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb78-30"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-30" aria-hidden="true" tabindex="-1"></a>  aligned_x_hist, <span class="cn">NULL</span>, scatterplot, aligned_y_hist,</span>
<span id="cb78-31"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">nrow =</span> <span class="dv">2</span>, </span>
<span id="cb78-32"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">rel_heights =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="dv">1</span>), <span class="at">rel_widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.2</span>)</span>
<span id="cb78-33"><a href="introducción-a-r-y-visualización-de-datos.html#cb78-33" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizando-combinando-avanzado-1.png" width="1152" /></p>
<p><BR>
#### Usando estilos</p>
<p>Los estilos nos permiten personalizar los gráficos de manera muy sencilla, por ejemplo, usando {<a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">ggtheme</a>}. Podéis ver un tutorial <a href="https://michaeltoth.me/you-need-to-start-branding-your-graphs-heres-how-with-ggplot.html">aquí</a>.</p>
<p>Primero creamos un gráfico sobre el que aplicaremos estilos.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Petal.Width, Petal.Length, <span class="at">color =</span> Species)) <span class="sc">+</span></span>
<span id="cb79-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb79-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;A ggplot simple graph&#39;</span>,</span>
<span id="cb79-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&#39;Simple tweaks to improve plots, or not&#39;</span>,</span>
<span id="cb79-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;&#39;</span>,</span>
<span id="cb79-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&#39;&#39;</span>,</span>
<span id="cb79-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&#39;https://github.com/gorkang / @gorkang&#39;</span>) <span class="sc">+</span></span>
<span id="cb79-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_gray</span>() <span class="co"># This is the default. Needed here because of the Bookdown theme</span></span>
<span id="cb79-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb79-10" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-01-1.png" width="1152" /></p>
<p>Usando el tema fivethirtyeight:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb80-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb80-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_fivethirtyeight</span>() <span class="sc">+</span></span>
<span id="cb80-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_fivethirtyeight</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-02-1.png" width="1152" /></p>
<p>Usando el tema economist:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb81-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb81-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_economist</span>() <span class="sc">+</span></span>
<span id="cb81-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="bookdown-workshop-R_files/figure-html/personalizacion-graficas-03-1.png" width="1152" /></p>
</div>
<div id="ejercicios-4" class="section level4 ejercicio unnumbered">
<h4>Ejercicios</h4>
<p>Serías capaz de reproducir este gráfico, usando el dataframe <code>diamonds</code> y el <code>theme_economist</code>?</p>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-6a-1.png" width="1152" /></p>
<p>Serías capaz de reproducir este gráfico, usando el dataframe <code>gapminder</code> y la paleta <code>Accent</code>?</p>
<p><img src="bookdown-workshop-R_files/figure-html/ejercicio-6b-1.png" width="1152" /></p>
</div>
</div>
</div>
<div id="visualización-interactiva" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Visualización interactiva</h2>
<div id="gráficas-interactivas" class="section level4" number="1.4.0.1">
<h4><span class="header-section-number">1.4.0.1</span> Gráficas interactivas</h4>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-1" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">ggplotly</span>(</span>
<span id="cb82-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(gapminder <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>), <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">color =</span> continent, <span class="at">size =</span> country)) <span class="sc">+</span></span>
<span id="cb82-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">3</span>, <span class="at">point =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb82-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb82-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">&quot;$&quot;</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>)) <span class="sc">+</span></span>
<span id="cb82-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb82-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb82-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div id="htmlwidget-c8a2e4198e1e2c715d0e" style="width:768px;height:768px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c8a2e4198e1e2c715d0e">{"x":{"data":[{"x":[3.79402544509666],"y":[72.301],"text":"gdpPercap:  6223.3675<br />lifeExp: 72.301<br />continent: Africa<br />country: Algeria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":7.97641574251744,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Algeria)","legendgroup":"(Africa,Algeria)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.68099065562682],"y":[42.731],"text":"gdpPercap:  4797.2313<br />lifeExp: 42.731<br />continent: Africa<br />country: Angola","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":8.17711165430103,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Angola)","legendgroup":"(Africa,Angola)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.1587498285201],"y":[56.728],"text":"gdpPercap:  1441.2849<br />lifeExp: 56.728<br />continent: Africa<br />country: Benin","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":9.46355025203998,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Benin)","legendgroup":"(Africa,Benin)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.09933015629768],"y":[50.728],"text":"gdpPercap: 12569.8518<br />lifeExp: 50.728<br />continent: Africa<br />country: Botswana","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":9.9641670048812,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Botswana)","legendgroup":"(Africa,Botswana)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.08530235219712],"y":[52.295],"text":"gdpPercap:  1217.0330<br />lifeExp: 52.295<br />continent: Africa<br />country: Burkina Faso","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":10.4408076713174,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Burkina Faso)","legendgroup":"(Africa,Burkina Faso)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.63353984732021],"y":[49.58],"text":"gdpPercap:   430.0707<br />lifeExp: 49.580<br />continent: Africa<br />country: Burundi","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":10.5949238665913,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Burundi)","legendgroup":"(Africa,Burundi)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.31007599301138],"y":[50.43],"text":"gdpPercap:  2042.0952<br />lifeExp: 50.430<br />continent: Africa<br />country: Cameroon","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":10.89661899663,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Cameroon)","legendgroup":"(Africa,Cameroon)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.848814873635],"y":[44.741],"text":"gdpPercap:   706.0165<br />lifeExp: 44.741<br />continent: Africa<br />country: Central African Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":11.1901831699293,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Central African Republic)","legendgroup":"(Africa,Central African Republic)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.23148583131337],"y":[50.651],"text":"gdpPercap:  1704.0637<br />lifeExp: 50.651<br />continent: Africa<br />country: Chad","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":11.3341142700255,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Chad)","legendgroup":"(Africa,Chad)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.99394204506796],"y":[65.152],"text":"gdpPercap:   986.1479<br />lifeExp: 65.152<br />continent: Africa<br />country: Comoros","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":11.8924317918455,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Comoros)","legendgroup":"(Africa,Comoros)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.44334414004637],"y":[46.462],"text":"gdpPercap:   277.5519<br />lifeExp: 46.462<br />continent: Africa<br />country: Congo, Dem. Rep.","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":12.0279624555917,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Congo, Dem. Rep.)","legendgroup":"(Africa,Congo, Dem. Rep.)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.56021253312911],"y":[55.322],"text":"gdpPercap:  3632.5578<br />lifeExp: 55.322<br />continent: Africa<br />country: Congo, Rep.","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":12.1619828869535,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Congo, Rep.)","legendgroup":"(Africa,Congo, Rep.)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.18885823537455],"y":[48.328],"text":"gdpPercap:  1544.7501<br />lifeExp: 48.328<br />continent: Africa<br />country: Cote d'Ivoire","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":12.425687971352,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Cote d'Ivoire)","legendgroup":"(Africa,Cote d'Ivoire)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.31858116595608],"y":[54.791],"text":"gdpPercap:  2082.4816<br />lifeExp: 54.791<br />continent: Africa<br />country: Djibouti","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":13.0616789161474,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Djibouti)","legendgroup":"(Africa,Djibouti)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.74672610693845],"y":[71.338],"text":"gdpPercap:  5581.1810<br />lifeExp: 71.338<br />continent: Africa<br />country: Egypt","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":13.4288233601015,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Egypt)","legendgroup":"(Africa,Egypt)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.08472243900371],"y":[51.579],"text":"gdpPercap: 12154.0897<br />lifeExp: 51.579<br />continent: Africa<br />country: Equatorial Guinea","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":13.6681085251639,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Equatorial Guinea)","legendgroup":"(Africa,Equatorial Guinea)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.80710831941093],"y":[58.04],"text":"gdpPercap:   641.3695<br />lifeExp: 58.040<br />continent: Africa<br />country: Eritrea","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":13.7861937301448,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Eritrea)","legendgroup":"(Africa,Eritrea)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.83935583435696],"y":[52.947],"text":"gdpPercap:   690.8056<br />lifeExp: 52.947<br />continent: Africa<br />country: Ethiopia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":13.9032760338889,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Ethiopia)","legendgroup":"(Africa,Ethiopia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.12078722664154],"y":[56.735],"text":"gdpPercap: 13206.4845<br />lifeExp: 56.735<br />continent: Africa<br />country: Gabon","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":14.2487517068263,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Gabon)","legendgroup":"(Africa,Gabon)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.87665060639063],"y":[59.448],"text":"gdpPercap:   752.7497<br />lifeExp: 59.448<br />continent: Africa<br />country: Gambia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":14.3620636439271,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Gambia)","legendgroup":"(Africa,Gambia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.1230701584329],"y":[60.022],"text":"gdpPercap:  1327.6089<br />lifeExp: 60.022<br />continent: Africa<br />country: Ghana","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":14.5860469604024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Ghana)","legendgroup":"(Africa,Ghana)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.9743524119827],"y":[56.007],"text":"gdpPercap:   942.6542<br />lifeExp: 56.007<br />continent: Africa<br />country: Guinea","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":14.9157167665299,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Guinea)","legendgroup":"(Africa,Guinea)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.76285235400399],"y":[46.388],"text":"gdpPercap:   579.2317<br />lifeExp: 46.388<br />continent: Africa<br />country: Guinea-Bissau","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":15.0239992534866,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Guinea-Bissau)","legendgroup":"(Africa,Guinea-Bissau)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.16531831968284],"y":[54.11],"text":"gdpPercap:  1463.2493<br />lifeExp: 54.110<br />continent: Africa<br />country: Kenya","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":16.6610835217755,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Kenya)","legendgroup":"(Africa,Kenya)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.19571467604724],"y":[42.592],"text":"gdpPercap:  1569.3314<br />lifeExp: 42.592<br />continent: Africa<br />country: Lesotho","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.1406370554512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Lesotho)","legendgroup":"(Africa,Lesotho)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.61753222691212],"y":[45.678],"text":"gdpPercap:   414.5073<br />lifeExp: 45.678<br />continent: Africa<br />country: Liberia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.2349466368809,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Liberia)","legendgroup":"(Africa,Liberia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.08125724466051],"y":[73.952],"text":"gdpPercap: 12057.4993<br />lifeExp: 73.952<br />continent: Africa<br />country: Libya","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.3287429574554,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Libya)","legendgroup":"(Africa,Libya)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.01902074595738],"y":[59.443],"text":"gdpPercap:  1044.7701<br />lifeExp: 59.443<br />continent: Africa<br />country: Madagascar","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.4220343070201,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Madagascar)","legendgroup":"(Africa,Madagascar)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.88044194586588],"y":[48.303],"text":"gdpPercap:   759.3499<br />lifeExp: 48.303<br />continent: Africa<br />country: Malawi","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.5148287546413,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Malawi)","legendgroup":"(Africa,Malawi)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.0181100381011],"y":[54.467],"text":"gdpPercap:  1042.5816<br />lifeExp: 54.467<br />continent: Africa<br />country: Mali","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.6989581649108,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Mali)","legendgroup":"(Africa,Mali)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.25603221652431],"y":[64.164],"text":"gdpPercap:  1803.1515<br />lifeExp: 64.164<br />continent: Africa<br />country: Mauritania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.7903082332119,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Mauritania)","legendgroup":"(Africa,Mauritania)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.03969130967891],"y":[72.801],"text":"gdpPercap: 10956.9911<br />lifeExp: 72.801<br />continent: Africa<br />country: Mauritius","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":17.8811916253395,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Mauritius)","legendgroup":"(Africa,Mauritius)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.58208328429303],"y":[71.164],"text":"gdpPercap:  3820.1752<br />lifeExp: 71.164<br />continent: Africa<br />country: Morocco","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":18.2401974106591,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Morocco)","legendgroup":"(Africa,Morocco)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.91576148434958],"y":[42.082],"text":"gdpPercap:   823.6856<br />lifeExp: 42.082<br />continent: Africa<br />country: Mozambique","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":18.328850168225,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Mozambique)","legendgroup":"(Africa,Mozambique)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.68224081186337],"y":[52.906],"text":"gdpPercap:  4811.0604<br />lifeExp: 52.906<br />continent: Africa<br />country: Namibia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":18.5048815804936,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Namibia)","legendgroup":"(Africa,Namibia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.79216530171644],"y":[56.867],"text":"gdpPercap:   619.6769<br />lifeExp: 56.867<br />continent: Africa<br />country: Niger","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":18.9378028518416,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Niger)","legendgroup":"(Africa,Niger)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.30405457229069],"y":[46.859],"text":"gdpPercap:  2013.9773<br />lifeExp: 46.859<br />continent: Africa<br />country: Nigeria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":19.0232048762728,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Nigeria)","legendgroup":"(Africa,Nigeria)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.88480230343241],"y":[76.442],"text":"gdpPercap:  7670.1226<br />lifeExp: 76.442<br />continent: Africa<br />country: Reunion","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":19.9384989346824,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Reunion)","legendgroup":"(Africa,Reunion)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.93605531183875],"y":[46.242],"text":"gdpPercap:   863.0885<br />lifeExp: 46.242<br />continent: Africa<br />country: Rwanda","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.1004386416611,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Rwanda)","legendgroup":"(Africa,Rwanda)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.20369500466057],"y":[65.528],"text":"gdpPercap:  1598.4351<br />lifeExp: 65.528<br />continent: Africa<br />country: Sao Tome and Principe","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.1809212003964,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Sao Tome and Principe)","legendgroup":"(Africa,Sao Tome and Principe)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.23362351372365],"y":[63.062],"text":"gdpPercap:  1712.4721<br />lifeExp: 63.062<br />continent: Africa<br />country: Senegal","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.340931009063,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Senegal)","legendgroup":"(Africa,Senegal)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.93577962517273],"y":[42.568],"text":"gdpPercap:   862.5408<br />lifeExp: 42.568<br />continent: Africa<br />country: Sierra Leone","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.4996919033997,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Sierra Leone)","legendgroup":"(Africa,Sierra Leone)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.96667714274902],"y":[48.159],"text":"gdpPercap:   926.1411<br />lifeExp: 48.159<br />continent: Africa<br />country: Somalia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.8135810415222,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Somalia)","legendgroup":"(Africa,Somalia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.96706370233863],"y":[49.339],"text":"gdpPercap:  9269.6578<br />lifeExp: 49.339<br />continent: Africa<br />country: South Africa","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":20.8913164420397,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,South Africa)","legendgroup":"(Africa,South Africa)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.41537321502711],"y":[58.556],"text":"gdpPercap:  2602.3950<br />lifeExp: 58.556<br />continent: Africa<br />country: Sudan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":21.1228062389853,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Sudan)","legendgroup":"(Africa,Sudan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.65451158423759],"y":[39.613],"text":"gdpPercap:  4513.4806<br />lifeExp: 39.613<br />continent: Africa<br />country: Swaziland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":21.1994077822741,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Swaziland)","legendgroup":"(Africa,Swaziland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.04433674769752],"y":[52.517],"text":"gdpPercap:  1107.4822<br />lifeExp: 52.517<br />continent: Africa<br />country: Tanzania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":21.578336934673,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Tanzania)","legendgroup":"(Africa,Tanzania)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.94594592049266],"y":[58.42],"text":"gdpPercap:   882.9699<br />lifeExp: 58.420<br />continent: Africa<br />country: Togo","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":21.7280583275433,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Togo)","legendgroup":"(Africa,Togo)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.85082524675123],"y":[73.923],"text":"gdpPercap:  7092.9230<br />lifeExp: 73.923<br />continent: Africa<br />country: Tunisia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":21.8767550725416,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Tunisia)","legendgroup":"(Africa,Tunisia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.02382022004224],"y":[51.542],"text":"gdpPercap:  1056.3801<br />lifeExp: 51.542<br />continent: Africa<br />country: Uganda","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":22.0244479232244,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Uganda)","legendgroup":"(Africa,Uganda)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.10421784482941],"y":[42.384],"text":"gdpPercap:  1271.2116<br />lifeExp: 42.384<br />continent: Africa<br />country: Zambia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":22.6055719148672,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Zambia)","legendgroup":"(Africa,Zambia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.67182915731664],"y":[43.487],"text":"gdpPercap:   469.7093<br />lifeExp: 43.487<br />continent: Africa<br />country: Zimbabwe","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.3,"size":22.6771653543307,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"(Africa,Zimbabwe)","legendgroup":"(Africa,Zimbabwe)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.10650977201769],"y":[75.32],"text":"gdpPercap: 12779.3796<br />lifeExp: 75.320<br />continent: Americas<br />country: Argentina","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":8.37299838267818,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Argentina)","legendgroup":"(Americas,Argentina)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.58230625931688],"y":[65.554],"text":"gdpPercap:  3822.1371<br />lifeExp: 65.554<br />continent: Americas<br />country: Bolivia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":9.63331356711239,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Bolivia)","legendgroup":"(Americas,Bolivia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.95740617340857],"y":[72.39],"text":"gdpPercap:  9065.8008<br />lifeExp: 72.390<br />continent: Americas<br />country: Brazil","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":10.1255405293045,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Brazil)","legendgroup":"(Americas,Brazil)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.56013669242519],"y":[80.653],"text":"gdpPercap: 36319.2350<br />lifeExp: 80.653<br />continent: Americas<br />country: Canada","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":11.0443765087552,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Canada)","legendgroup":"(Americas,Canada)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.11963981438709],"y":[78.553],"text":"gdpPercap: 13171.6388<br />lifeExp: 78.553<br />continent: Americas<br />country: Chile","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":11.4762403772063,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Chile)","legendgroup":"(Americas,Chile)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.84550611104731],"y":[72.889],"text":"gdpPercap:  7006.5804<br />lifeExp: 72.889<br />continent: Americas<br />country: Colombia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":11.7553386601268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Colombia)","legendgroup":"(Americas,Colombia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.98430499758718],"y":[78.782],"text":"gdpPercap:  9645.0614<br />lifeExp: 78.782<br />continent: Americas<br />country: Costa Rica","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":12.2945424742841,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Costa Rica)","legendgroup":"(Americas,Costa Rica)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.95173097080165],"y":[78.273],"text":"gdpPercap:  8948.1029<br />lifeExp: 78.273<br />continent: Americas<br />country: Cuba","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":12.6839116750414,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Cuba)","legendgroup":"(Americas,Cuba)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.77998406330737],"y":[72.235],"text":"gdpPercap:  6025.3748<br />lifeExp: 72.235<br />continent: Americas<br />country: Dominican Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":13.1851963587182,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Dominican Republic)","legendgroup":"(Americas,Dominican Republic)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.83716291957619],"y":[74.994],"text":"gdpPercap:  6873.2623<br />lifeExp: 74.994<br />continent: Americas<br />country: Ecuador","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":13.307567393306,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Ecuador)","legendgroup":"(Americas,Ecuador)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.75802981175127],"y":[71.878],"text":"gdpPercap:  5728.3535<br />lifeExp: 71.878<br />continent: Americas<br />country: El Salvador","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":13.5489941968484,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,El Salvador)","legendgroup":"(Americas,El Salvador)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.71483669984604],"y":[70.259],"text":"gdpPercap:  5186.0500<br />lifeExp: 70.259<br />continent: Americas<br />country: Guatemala","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":14.8066424198707,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Guatemala)","legendgroup":"(Americas,Guatemala)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.0797733480287],"y":[60.916],"text":"gdpPercap:  1201.6372<br />lifeExp: 60.916<br />continent: Americas<br />country: Haiti","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":15.1315068806181,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Haiti)","legendgroup":"(Americas,Haiti)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.55002410662006],"y":[70.198],"text":"gdpPercap:  3548.3308<br />lifeExp: 70.198<br />continent: Americas<br />country: Honduras","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":15.2382560481053,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Honduras)","legendgroup":"(Americas,Honduras)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.86456330372846],"y":[72.567],"text":"gdpPercap:  7320.8803<br />lifeExp: 72.567<br />continent: Americas<br />country: Jamaica","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":16.3666081822503,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Jamaica)","legendgroup":"(Americas,Jamaica)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.07836889751077],"y":[76.195],"text":"gdpPercap: 11977.5750<br />lifeExp: 76.195<br />continent: Americas<br />country: Mexico","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":17.971615421312,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Mexico)","legendgroup":"(Americas,Mexico)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.43922544380543],"y":[72.899],"text":"gdpPercap:  2749.3210<br />lifeExp: 72.899<br />continent: Americas<br />country: Nicaragua","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":18.8520139493317,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Nicaragua)","legendgroup":"(Americas,Nicaragua)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.99163295350919],"y":[75.537],"text":"gdpPercap:  9809.1856<br />lifeExp: 75.537<br />continent: Americas<br />country: Panama","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":19.3610462372866,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Panama)","legendgroup":"(Americas,Panama)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.6204315729333],"y":[71.752],"text":"gdpPercap:  4172.8385<br />lifeExp: 71.752<br />continent: Americas<br />country: Paraguay","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":19.444589435413,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Paraguay)","legendgroup":"(Americas,Paraguay)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.86975405900188],"y":[71.421],"text":"gdpPercap:  7408.9056<br />lifeExp: 71.421<br />continent: Americas<br />country: Peru","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":19.5277752245667,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Peru)","legendgroup":"(Americas,Peru)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.28620284789525],"y":[78.746],"text":"gdpPercap: 19328.7090<br />lifeExp: 78.746<br />continent: Americas<br />country: Puerto Rico","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":19.8570338383885,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Puerto Rico)","legendgroup":"(Americas,Puerto Rico)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.25547776303394],"y":[69.819],"text":"gdpPercap: 18008.5092<br />lifeExp: 69.819<br />continent: Americas<br />country: Trinidad and Tobago","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":21.8025334673415,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Trinidad and Tobago)","legendgroup":"(Americas,Trinidad and Tobago)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.632979883279],"y":[78.242],"text":"gdpPercap: 42951.6531<br />lifeExp: 78.242<br />continent: Americas<br />country: United States","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":22.1711569418846,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,United States)","legendgroup":"(Americas,United States)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.02577526370184],"y":[76.384],"text":"gdpPercap: 10611.4630<br />lifeExp: 76.384<br />continent: Americas<br />country: Uruguay","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":22.2441486025225,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Uruguay)","legendgroup":"(Americas,Uruguay)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.05750656798335],"y":[73.747],"text":"gdpPercap: 11415.8057<br />lifeExp: 73.747<br />continent: Americas<br />country: Venezuela","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.3,"size":22.3169015313625,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"(Americas,Venezuela)","legendgroup":"(Americas,Venezuela)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.98881764549129],"y":[43.828],"text":"gdpPercap:   974.5803<br />lifeExp: 43.828<br />continent: Asia<br />country: Afghanistan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Afghanistan)","legendgroup":"(Asia,Afghanistan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.47415867018597],"y":[75.635],"text":"gdpPercap: 29796.0483<br />lifeExp: 75.635<br />continent: Asia<br />country: Bahrain","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":8.93492823947729,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Bahrain)","legendgroup":"(Asia,Bahrain)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.143406361057],"y":[64.062],"text":"gdpPercap:  1391.2538<br />lifeExp: 64.062<br />continent: Asia<br />country: Bangladesh","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":9.11454275068335,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Bangladesh)","legendgroup":"(Asia,Bangladesh)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.23395473727517],"y":[59.723],"text":"gdpPercap:  1713.7787<br />lifeExp: 59.723<br />continent: Asia<br />country: Cambodia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":10.7468301674629,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Cambodia)","legendgroup":"(Asia,Cambodia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.6954041667466],"y":[72.961],"text":"gdpPercap:  4959.1149<br />lifeExp: 72.961<br />continent: Asia<br />country: China","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":11.616627742372,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,China)","legendgroup":"(Asia,China)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.59906367268864],"y":[82.208],"text":"gdpPercap: 39724.9787<br />lifeExp: 82.208<br />continent: Asia<br />country: Hong Kong, China","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":15.3442625856391,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Hong Kong, China)","legendgroup":"(Asia,Hong Kong, China)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.38955773121288],"y":[64.698],"text":"gdpPercap:  2452.2104<br />lifeExp: 64.698<br />continent: Asia<br />country: India","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":15.6579767219562,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,India)","legendgroup":"(Asia,India)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.54908318988216],"y":[70.65],"text":"gdpPercap:  3540.6516<br />lifeExp: 70.650<br />continent: Asia<br />country: Indonesia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":15.7611605516455,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Indonesia)","legendgroup":"(Asia,Indonesia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.06467188236304],"y":[70.964],"text":"gdpPercap: 11605.7145<br />lifeExp: 70.964<br />continent: Asia<br />country: Iran","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":15.8636732456318,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Iran)","legendgroup":"(Asia,Iran)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.65041068311967],"y":[59.545],"text":"gdpPercap:  4471.0619<br />lifeExp: 59.545<br />continent: Asia<br />country: Iraq","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":15.96552773176,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Iraq)","legendgroup":"(Asia,Iraq)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.40693643553008],"y":[80.745],"text":"gdpPercap: 25523.2771<br />lifeExp: 80.745<br />continent: Asia<br />country: Israel","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.1673117608479,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Israel)","legendgroup":"(Asia,Israel)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.50045697098462],"y":[82.603],"text":"gdpPercap: 31656.0681<br />lifeExp: 82.603<br />continent: Asia<br />country: Japan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.4653518122367,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Japan)","legendgroup":"(Asia,Japan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.65508665949928],"y":[72.535],"text":"gdpPercap:  4519.4612<br />lifeExp: 72.535<br />continent: Asia<br />country: Jordan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.5635067908385,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Jordan)","legendgroup":"(Asia,Jordan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.20223362703668],"y":[67.297],"text":"gdpPercap:  1593.0655<br />lifeExp: 67.297<br />continent: Asia<br />country: Korea, Dem. Rep.","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.7580921058754,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Korea, Dem. Rep.)","legendgroup":"(Asia,Korea, Dem. Rep.)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.3682522837381],"y":[78.623],"text":"gdpPercap: 23348.1397<br />lifeExp: 78.623<br />continent: Asia<br />country: Korea, Rep.","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.8545423532776,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Korea, Rep.)","legendgroup":"(Asia,Korea, Rep.)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.67492531406996],"y":[77.588],"text":"gdpPercap: 47306.9898<br />lifeExp: 77.588<br />continent: Asia<br />country: Kuwait","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":16.9504437950118,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Kuwait)","legendgroup":"(Asia,Kuwait)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.01957563822304],"y":[71.993],"text":"gdpPercap: 10461.0587<br />lifeExp: 71.993<br />continent: Asia<br />country: Lebanon","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":17.0458056939906,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Lebanon)","legendgroup":"(Asia,Lebanon)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.09522710701315],"y":[74.241],"text":"gdpPercap: 12451.6558<br />lifeExp: 74.241<br />continent: Asia<br />country: Malaysia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":17.6071341567512,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Malaysia)","legendgroup":"(Asia,Malaysia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.49076900592376],"y":[66.803],"text":"gdpPercap:  3095.7723<br />lifeExp: 66.803<br />continent: Asia<br />country: Mongolia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":18.0615865239177,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Mongolia)","legendgroup":"(Asia,Mongolia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.97497199429807],"y":[62.069],"text":"gdpPercap:   944.0000<br />lifeExp: 62.069<br />continent: Asia<br />country: Myanmar","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":18.4170761902824,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Myanmar)","legendgroup":"(Asia,Myanmar)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.03796794384465],"y":[63.785],"text":"gdpPercap:  1091.3598<br />lifeExp: 63.785<br />continent: Asia<br />country: Nepal","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":18.592272298391,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Nepal)","legendgroup":"(Asia,Nepal)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.34862010618943],"y":[75.64],"text":"gdpPercap: 22316.1929<br />lifeExp: 75.640<br />continent: Asia<br />country: Oman","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":19.1928689252936,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Oman)","legendgroup":"(Asia,Oman)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.41596567540354],"y":[65.483],"text":"gdpPercap:  2605.9476<br />lifeExp: 65.483<br />continent: Asia<br />country: Pakistan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":19.2771409833752,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Pakistan)","legendgroup":"(Asia,Pakistan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.50385616482709],"y":[71.688],"text":"gdpPercap:  3190.4810<br />lifeExp: 71.688<br />continent: Asia<br />country: Philippines","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":19.610608153003,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Philippines)","legendgroup":"(Asia,Philippines)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.33555481758265],"y":[72.777],"text":"gdpPercap: 21654.8319<br />lifeExp: 72.777<br />continent: Asia<br />country: Saudi Arabia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":20.2610840629526,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Saudi Arabia)","legendgroup":"(Asia,Saudi Arabia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.67341887079622],"y":[79.972],"text":"gdpPercap: 47143.1796<br />lifeExp: 79.972<br />continent: Asia<br />country: Singapore","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":20.5786130495652,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Singapore)","legendgroup":"(Asia,Singapore)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.59880094359832],"y":[72.396],"text":"gdpPercap:  3970.0954<br />lifeExp: 72.396<br />continent: Asia<br />country: Sri Lanka","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":21.0459258884063,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Sri Lanka)","legendgroup":"(Asia,Sri Lanka)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.62164856315343],"y":[74.143],"text":"gdpPercap:  4184.5481<br />lifeExp: 74.143<br />continent: Asia<br />country: Syria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":21.4275694152981,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Syria)","legendgroup":"(Asia,Syria)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.45815837772449],"y":[78.4],"text":"gdpPercap: 28718.2768<br />lifeExp: 78.400<br />continent: Asia<br />country: Taiwan","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":21.5030853125045,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Taiwan)","legendgroup":"(Asia,Taiwan)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.87264545733796],"y":[70.616],"text":"gdpPercap:  7458.3963<br />lifeExp: 70.616<br />continent: Asia<br />country: Thailand","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":21.6533270371021,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Thailand)","legendgroup":"(Asia,Thailand)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.38767031916547],"y":[74.249],"text":"gdpPercap:  2441.5764<br />lifeExp: 74.249<br />continent: Asia<br />country: Vietnam","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":22.3894180556341,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Vietnam)","legendgroup":"(Asia,Vietnam)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.4807755960326],"y":[73.422],"text":"gdpPercap:  3025.3498<br />lifeExp: 73.422<br />continent: Asia<br />country: West Bank and Gaza","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":22.461700465,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,West Bank and Gaza)","legendgroup":"(Asia,West Bank and Gaza)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.35808147396803],"y":[62.698],"text":"gdpPercap:  2280.7699<br />lifeExp: 62.698<br />continent: Asia<br />country: Yemen, Rep.","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.3,"size":22.5337510123993,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"(Asia,Yemen, Rep.)","legendgroup":"(Asia,Yemen, Rep.)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.77356920876217],"y":[76.423],"text":"gdpPercap:  5937.0295<br />lifeExp: 76.423<br />continent: Europe<br />country: Albania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":7.77053802436191,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Albania)","legendgroup":"(Europe,Albania)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.55782580062218],"y":[79.829],"text":"gdpPercap: 36126.4927<br />lifeExp: 79.829<br />continent: Europe<br />country: Austria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":8.75162817624143,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Austria)","legendgroup":"(Europe,Austria)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.52753459151331],"y":[79.441],"text":"gdpPercap: 33692.6051<br />lifeExp: 79.441<br />continent: Europe<br />country: Belgium","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":9.29068546790064,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Belgium)","legendgroup":"(Europe,Belgium)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.87194045947979],"y":[74.852],"text":"gdpPercap:  7446.2988<br />lifeExp: 74.852<br />continent: Europe<br />country: Bosnia and Herzegovina","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":9.80013659046329,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Bosnia and Herzegovina)","legendgroup":"(Europe,Bosnia and Herzegovina)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.02860349094832],"y":[73.005],"text":"gdpPercap: 10680.7928<br />lifeExp: 73.005<br />continent: Europe<br />country: Bulgaria","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":10.2843822332707,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Bulgaria)","legendgroup":"(Europe,Bulgaria)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.16492428251317],"y":[75.748],"text":"gdpPercap: 14619.2227<br />lifeExp: 75.748<br />continent: Europe<br />country: Croatia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":12.5554636899967,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Croatia)","legendgroup":"(Europe,Croatia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.35856884462783],"y":[76.486],"text":"gdpPercap: 22833.3085<br />lifeExp: 76.486<br />continent: Europe<br />country: Czech Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":12.8110718634187,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Czech Republic)","legendgroup":"(Europe,Czech Republic)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.54750911081685],"y":[78.332],"text":"gdpPercap: 35278.4187<br />lifeExp: 78.332<br />continent: Europe<br />country: Denmark","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":12.936982229218,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Denmark)","legendgroup":"(Europe,Denmark)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.52123074598147],"y":[79.313],"text":"gdpPercap: 33207.0844<br />lifeExp: 79.313<br />continent: Europe<br />country: Finland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":14.0193805634891,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Finland)","legendgroup":"(Europe,Finland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.48387269225076],"y":[80.657],"text":"gdpPercap: 30470.0167<br />lifeExp: 80.657<br />continent: Europe<br />country: France","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":14.1345314140003,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,France)","legendgroup":"(Europe,France)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.50745611553652],"y":[79.406],"text":"gdpPercap: 32170.3744<br />lifeExp: 79.406<br />continent: Europe<br />country: Germany","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":14.4744885582061,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Germany)","legendgroup":"(Europe,Germany)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.43993889119905],"y":[79.483],"text":"gdpPercap: 27538.4119<br />lifeExp: 79.483<br />continent: Europe<br />country: Greece","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":14.696758582779,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Greece)","legendgroup":"(Europe,Greece)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.25548825822109],"y":[73.338],"text":"gdpPercap: 18008.9444<br />lifeExp: 73.338<br />continent: Europe<br />country: Hungary","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":15.4495417798221,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Hungary)","legendgroup":"(Europe,Hungary)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.55847803563392],"y":[81.757],"text":"gdpPercap: 36180.7892<br />lifeExp: 81.757<br />continent: Europe<br />country: Iceland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":15.5541083999018,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Iceland)","legendgroup":"(Europe,Iceland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.60933819969144],"y":[78.885],"text":"gdpPercap: 40675.9964<br />lifeExp: 78.885<br />continent: Europe<br />country: Ireland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":16.0667365280888,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Ireland)","legendgroup":"(Europe,Ireland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.45590597950278],"y":[80.546],"text":"gdpPercap: 28569.7197<br />lifeExp: 80.546<br />continent: Europe<br />country: Italy","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":16.2672651813965,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Italy)","legendgroup":"(Europe,Italy)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.96632461957789],"y":[74.543],"text":"gdpPercap:  9253.8961<br />lifeExp: 74.543<br />continent: Europe<br />country: Montenegro","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":18.1511116648648,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Montenegro)","legendgroup":"(Europe,Montenegro)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.56582342810493],"y":[79.762],"text":"gdpPercap: 36797.9333<br />lifeExp: 79.762<br />continent: Europe<br />country: Netherlands","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":18.6792541640973,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Netherlands)","legendgroup":"(Europe,Netherlands)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.69335042800253],"y":[80.196],"text":"gdpPercap: 49357.1902<br />lifeExp: 80.196<br />continent: Europe<br />country: Norway","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":19.1082252099475,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Norway)","legendgroup":"(Europe,Norway)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.18723649435127],"y":[75.563],"text":"gdpPercap: 15389.9247<br />lifeExp: 75.563<br />continent: Europe<br />country: Poland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":19.6930926733221,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Poland)","legendgroup":"(Europe,Poland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.31195820191596],"y":[78.098],"text":"gdpPercap: 20509.6478<br />lifeExp: 78.098<br />continent: Europe<br />country: Portugal","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":19.7752331452623,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Portugal)","legendgroup":"(Europe,Portugal)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.03376444688129],"y":[72.476],"text":"gdpPercap: 10808.4756<br />lifeExp: 72.476<br />continent: Europe<br />country: Romania","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":20.019632531037,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Romania)","legendgroup":"(Europe,Romania)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.990628940935],"y":[74.002],"text":"gdpPercap:  9786.5347<br />lifeExp: 74.002<br />continent: Europe<br />country: Serbia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":20.4204657445633,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Serbia)","legendgroup":"(Europe,Serbia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.27133768016358],"y":[74.663],"text":"gdpPercap: 18678.3144<br />lifeExp: 74.663<br />continent: Europe<br />country: Slovak Republic","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":20.6572326789714,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Slovak Republic)","legendgroup":"(Europe,Slovak Republic)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.41108505321789],"y":[77.926],"text":"gdpPercap: 25768.2576<br />lifeExp: 77.926<br />continent: Europe<br />country: Slovenia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":20.7355542212546,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Slovenia)","legendgroup":"(Europe,Slovenia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.4597100052953],"y":[80.941],"text":"gdpPercap: 28821.0637<br />lifeExp: 80.941<br />continent: Europe<br />country: Spain","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":20.9687636638612,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Spain)","legendgroup":"(Europe,Spain)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.52968372605252],"y":[80.884],"text":"gdpPercap: 33859.7484<br />lifeExp: 80.884<br />continent: Europe<br />country: Sweden","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":21.2757335297415,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Sweden)","legendgroup":"(Europe,Sweden)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.57410560181062],"y":[81.701],"text":"gdpPercap: 37506.4191<br />lifeExp: 81.701<br />continent: Europe<br />country: Switzerland","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":21.3517864390311,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Switzerland)","legendgroup":"(Europe,Switzerland)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.92728187211911],"y":[71.777],"text":"gdpPercap:  8458.2764<br />lifeExp: 71.777<br />continent: Europe<br />country: Turkey","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":21.9507257149599,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,Turkey)","legendgroup":"(Europe,Turkey)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.52118074293136],"y":[79.425],"text":"gdpPercap: 33203.2613<br />lifeExp: 79.425<br />continent: Europe<br />country: United Kingdom","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.3,"size":22.0979241837837,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"(Europe,United Kingdom)","legendgroup":"(Europe,United Kingdom)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.53700472145269],"y":[81.235],"text":"gdpPercap: 34435.3674<br />lifeExp: 81.235<br />continent: Oceania<br />country: Australia","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":0.3,"size":8.56440592369122,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"(Oceania,Australia)","legendgroup":"(Oceania,Australia)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.40114211228811],"y":[80.204],"text":"gdpPercap: 25185.0091<br />lifeExp: 80.204<br />continent: Oceania<br />country: New Zealand","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":0.3,"size":18.7658328628486,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"(Oceania,New Zealand)","legendgroup":"(Oceania,New Zealand)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.3059360730594,"r":7.30593607305936,"b":37.2602739726027,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2.33084382564856,4.80585074240034],"tickmode":"array","ticktext":["$300.00M","$1,000.00M","$3,000.00M","$10,000.00M","$30,000.00M"],"tickvals":[2.47712125471966,3,3.47712125471966,4,4.47712125471966],"categoryorder":"array","categoryarray":["$300.00M","$1,000.00M","$3,000.00M","$10,000.00M","$30,000.00M"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"gdpPercap","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[37.4635,84.7525],"tickmode":"array","ticktext":["40","45","50","55","60","65","70","75","80"],"tickvals":[40,45,50,55,60,65,70,75,80],"categoryorder":"array","categoryarray":["40","45","50","55","60","65","70","75","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"lifeExp","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"e5274f245896":{"x":{},"y":{},"colour":{},"size":{},"type":"scatter"}},"cur_data":"e5274f245896","visdat":{"e5274f245896":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="animando-gráficas" class="section level4" number="1.4.0.2">
<h4><span class="header-section-number">1.4.0.2</span> Animando gráficas</h4>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;gganimate&#39;</span>)) remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&#39;thomasp85/gganimate&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;gganimate&#39;</span>)</span>
<span id="cb83-2"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="co">#sudo apt-get install ffmpeg</span></span>
<span id="cb83-3"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb83-4"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp, <span class="at">size =</span> pop, <span class="at">colour =</span> country)) <span class="sc">+</span></span>
<span id="cb83-5"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb83-6"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> country_colors) <span class="sc">+</span></span>
<span id="cb83-7"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb83-8"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb83-9"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent) <span class="sc">+</span></span>
<span id="cb83-10"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Here comes the gganimate specific bits</span></span>
<span id="cb83-11"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Year: {frame_time}&#39;</span>, <span class="at">x =</span> <span class="st">&#39;GDP per capita&#39;</span>, <span class="at">y =</span> <span class="st">&#39;life expectancy&#39;</span>) <span class="sc">+</span></span>
<span id="cb83-12"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(year) <span class="sc">+</span></span>
<span id="cb83-13"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">&#39;linear&#39;</span>)</span>
<span id="cb83-14"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-15"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animate</span>(p, <span class="at">renderer =</span> <span class="fu">ffmpeg_renderer</span>(), <span class="at">height =</span> <span class="dv">6</span>, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">res =</span> <span class="dv">300</span>)</span>
<span id="cb83-16"><a href="introducción-a-r-y-visualización-de-datos.html#cb83-16" aria-hidden="true" tabindex="-1"></a><span class="co"># anim_save(&quot;name_file.mp4&quot;, animation = last_animation())</span></span></code></pre></div>
<p><video src="data/images/gganimate.mp4" style="width:100.0%" controls=""><a href="data/images/gganimate.mp4">Video</a></video></p>
</div>
</div>
<div id="bibliografía-2" class="section level2 bibliografia unnumbered">
<h2>Bibliografía</h2>
<ul>
<li><p>Matejka, J., &amp; Fitzmaurice, G. (2017, May). Same stats, different graphs: Generating datasets with varied appearance and identical statistics through simulated annealing. In Proceedings of the 2017 CHI Conference on Human Factors in Computing Systems (pp. 1290-1294). ACM.</p></li>
<li><p><a href="https://bbc.github.io/rcookbook/" class="uri">https://bbc.github.io/rcookbook/</a></p></li>
<li><p><a href="https://github.com/bbc/bbplot" class="uri">https://github.com/bbc/bbplot</a></p></li>
<li><p><a href="https://github.com/dreamRs/esquisse" class="uri">https://github.com/dreamRs/esquisse</a></p></li>
<li><p>Garrick Aden-Buie. A Gentle Guide to the Grammar of Graphics with ggplot2: <a href="https://github.com/gadenbuie/gentle-ggplot2" class="uri">https://github.com/gadenbuie/gentle-ggplot2</a></p></li>
<li><p>Michael Toth. You Need to Start Branding Your Graphs. Here’s How, with ggplot!: <a href="https://michaeltoth.me/you-need-to-start-branding-your-graphs-heres-how-with-ggplot.html" class="uri">https://michaeltoth.me/you-need-to-start-branding-your-graphs-heres-how-with-ggplot.html</a></p></li>
<li><p>Claus Wilke: <a href="https://wilkelab.org/practicalgg/" class="uri">https://wilkelab.org/practicalgg/</a></p></li>
<li><p>Thomas Lin Pedersen:</p>
<ul>
<li>Part 1: <a href="https://www.youtube.com/watch?v=h29g21z0a68" class="uri">https://www.youtube.com/watch?v=h29g21z0a68</a></li>
<li>Part 2: <a href="https://www.youtube.com/watch?v=0m4yywqNPVY" class="uri">https://www.youtube.com/watch?v=0m4yywqNPVY</a></li>
</ul></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preparando-sistema.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="preparación-y-transformación-de-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {},
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
